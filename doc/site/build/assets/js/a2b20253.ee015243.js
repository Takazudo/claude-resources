"use strict";(self.webpackChunkclaude_code_doc_site=self.webpackChunkclaude_code_doc_site||[]).push([[2212],{3351(e,s,t){t.d(s,{R:()=>i,x:()=>l});var n=t(2128);const d={},r=n.createContext(d);function i(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),n.createElement(r.Provider,{value:s},e.children)}},9323(e,s,t){t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>i,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"claude/skills/subagent-tweaker","title":"subagent-tweaker","description":"Fix, improve, or update existing Claude Code custom agents (subagents). Use when: (1) User reports an agent isn\'t working well, (2) User wants to adjust agent behavior, tools, or model, (3) User says ...","source":"@site/docs/claude/skills/subagent-tweaker.mdx","sourceDirName":"claude/skills","slug":"/claude/skills/subagent-tweaker","permalink":"/docs/claude/skills/subagent-tweaker","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"subagent-tweaker","description":"Fix, improve, or update existing Claude Code custom agents (subagents). Use when: (1) User reports an agent isn\'t working well, (2) User wants to adjust agent behavior, tools, or model, (3) User says ..."},"sidebar":"claudeSidebar","previous":{"title":"subagent-creator","permalink":"/docs/claude/skills/subagent-creator"},"next":{"title":"watch-ci","permalink":"/docs/claude/skills/watch-ci"}}');var d=t(7900),r=t(3351);const i={title:"subagent-tweaker",description:"Fix, improve, or update existing Claude Code custom agents (subagents). Use when: (1) User reports an agent isn't working well, (2) User wants to adjust agent behavior, tools, or model, (3) User says ..."},l="subagent-tweaker",c={},o=[{value:"Workflow",id:"workflow",level:2},{value:"Step 1: Identify the agent",id:"step-1-identify-the-agent",level:3},{value:"Step 2: Diagnose the issue",id:"step-2-diagnose-the-issue",level:3},{value:"Step 3: Apply changes",id:"step-3-apply-changes",level:3},{value:"Step 4: Verify",id:"step-4-verify",level:3},{value:"Tips",id:"tips",level:2}];function h(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.header,{children:(0,d.jsx)(s.h1,{id:"subagent-tweaker",children:"subagent-tweaker"})}),"\n",(0,d.jsx)(s.h1,{id:"tweak-custom-agent",children:"Tweak Custom Agent"}),"\n",(0,d.jsx)(s.h2,{id:"workflow",children:"Workflow"}),"\n",(0,d.jsx)(s.h3,{id:"step-1-identify-the-agent",children:"Step 1: Identify the agent"}),"\n",(0,d.jsx)(s.p,{children:"Find agents at:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"~/.claude/agents/*.md"})," (personal)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:".claude/agents/*.md"})," (project)"]}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:"Read the agent file to understand current configuration."}),"\n",(0,d.jsx)(s.h3,{id:"step-2-diagnose-the-issue",children:"Step 2: Diagnose the issue"}),"\n",(0,d.jsx)(s.p,{children:"Common problems and fixes:"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Problem"}),(0,d.jsx)(s.th,{children:"Likely Cause"}),(0,d.jsx)(s.th,{children:"Fix"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Agent not being used"}),(0,d.jsxs)(s.td,{children:["Poor ",(0,d.jsx)(s.code,{children:"description"})]}),(0,d.jsx)(s.td,{children:"Rewrite with clear trigger keywords"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Agent too slow"}),(0,d.jsxs)(s.td,{children:["Wrong ",(0,d.jsx)(s.code,{children:"model"})]}),(0,d.jsxs)(s.td,{children:["Switch to ",(0,d.jsx)(s.code,{children:"sonnet"})," or ",(0,d.jsx)(s.code,{children:"haiku"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Agent can't edit files"}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"tools"})," missing Write/Edit"]}),(0,d.jsx)(s.td,{children:"Add needed tools to allowlist"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Agent doing too much"}),(0,d.jsx)(s.td,{children:"No tool restrictions"}),(0,d.jsxs)(s.td,{children:["Add ",(0,d.jsx)(s.code,{children:"tools:"})," or ",(0,d.jsx)(s.code,{children:"disallowedTools:"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Agent forgets context"}),(0,d.jsx)(s.td,{children:"No persistent memory"}),(0,d.jsxs)(s.td,{children:["Add ",(0,d.jsx)(s.code,{children:"memory: user"})," or ",(0,d.jsx)(s.code,{children:"memory: project"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"Agent runs too long"}),(0,d.jsx)(s.td,{children:"No turn limit"}),(0,d.jsxs)(s.td,{children:["Add ",(0,d.jsx)(s.code,{children:"maxTurns: N"})]})]})]})]}),"\n",(0,d.jsx)(s.h3,{id:"step-3-apply-changes",children:"Step 3: Apply changes"}),"\n",(0,d.jsx)(s.p,{children:"Edit the agent's Markdown file. Preserve existing content that works well."}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Frontmatter fields reference:"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"name"})}),(0,d.jsx)(s.td,{children:"Identifier (lowercase, hyphens)"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"description"})}),(0,d.jsx)(s.td,{children:"When to use (Claude reads this for delegation)"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"model"})}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"opus"}),", ",(0,d.jsx)(s.code,{children:"sonnet"}),", ",(0,d.jsx)(s.code,{children:"haiku"}),", ",(0,d.jsx)(s.code,{children:"inherit"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"tools"})}),(0,d.jsx)(s.td,{children:"Tool allowlist (inherits all if omitted)"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"disallowedTools"})}),(0,d.jsx)(s.td,{children:"Tool denylist"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"permissionMode"})}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"default"}),", ",(0,d.jsx)(s.code,{children:"acceptEdits"}),", ",(0,d.jsx)(s.code,{children:"delegate"}),", ",(0,d.jsx)(s.code,{children:"dontAsk"}),", ",(0,d.jsx)(s.code,{children:"bypassPermissions"}),", ",(0,d.jsx)(s.code,{children:"plan"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"maxTurns"})}),(0,d.jsx)(s.td,{children:"Max agentic turns"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"skills"})}),(0,d.jsx)(s.td,{children:"Preloaded skills"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"mcpServers"})}),(0,d.jsx)(s.td,{children:"Available MCP servers"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"hooks"})}),(0,d.jsx)(s.td,{children:"Scoped lifecycle hooks"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"memory"})}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"user"}),", ",(0,d.jsx)(s.code,{children:"project"}),", ",(0,d.jsx)(s.code,{children:"local"})]})]})]})]}),"\n",(0,d.jsx)(s.h3,{id:"step-4-verify",children:"Step 4: Verify"}),"\n",(0,d.jsx)(s.p,{children:"After editing:"}),"\n",(0,d.jsxs)(s.ol,{children:["\n",(0,d.jsx)(s.li,{children:"Confirm YAML frontmatter has no syntax errors"}),"\n",(0,d.jsx)(s.li,{children:"Check tool restrictions match intended behavior"}),"\n",(0,d.jsx)(s.li,{children:"Verify description contains keywords users would say"}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"tips",children:"Tips"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"Keep agent body (system prompt) focused and concise"}),"\n",(0,d.jsxs)(s.li,{children:["Subagents cannot nest - don't add ",(0,d.jsx)(s.code,{children:"Task"})," tool to agents that will be spawned as subagents"]}),"\n",(0,d.jsxs)(s.li,{children:["When adjusting tools, prefer ",(0,d.jsx)(s.code,{children:"disallowedTools"})," over ",(0,d.jsx)(s.code,{children:"tools"})," if only blocking a few"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"description"})," is the primary trigger mechanism - this is the most impactful field to improve"]}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}}}]);