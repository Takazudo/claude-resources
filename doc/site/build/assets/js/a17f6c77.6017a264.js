"use strict";(self.webpackChunkclaude_code_doc_site=self.webpackChunkclaude_code_doc_site||[]).push([[6801],{3351(e,n,s){s.d(n,{R:()=>l,x:()=>r});var i=s(2128);const c={},t=i.createContext(c);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),i.createElement(t.Provider,{value:n},e.children)}},4843(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"claude/commands/commits","title":"/commits","description":"Commit necessary changes with appropriate separation","source":"@site/docs/claude/commands/commits.mdx","sourceDirName":"claude/commands","slug":"/claude/commands/commits","permalink":"/docs/claude/commands/commits","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"/commits","description":"Commit necessary changes with appropriate separation"},"sidebar":"claudeSidebar","previous":{"title":"/bambulab-height-calculation","permalink":"/docs/claude/commands/bambulab-height-calculation"},"next":{"title":"/dump-fullpath","permalink":"/docs/claude/commands/dump-fullpath"}}');var c=s(7900),t=s(3351);const l={title:"/commits",description:"Commit necessary changes with appropriate separation"},r="/commits",o={},d=[{value:"Instructions",id:"instructions",level:2},{value:"Important Notes",id:"important-notes",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"commits",children:"/commits"})}),"\n",(0,c.jsx)(n.h1,{id:"commits-command",children:"Commits Command"}),"\n",(0,c.jsx)(n.p,{children:"Make commits for all necessary changes in the working directory."}),"\n",(0,c.jsx)(n.h2,{id:"instructions",children:"Instructions"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Check current status"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Run ",(0,c.jsx)(n.code,{children:"git status"})," to see all modified, staged, and untracked files"]}),"\n",(0,c.jsxs)(n.li,{children:["Run ",(0,c.jsx)(n.code,{children:"git diff --stat"})," to understand the scope of changes"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Check for unwanted files and update .gitignore"})}),"\n",(0,c.jsx)(n.p,{children:"Before proceeding, scan the output for files that should never be committed:"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Files/directories to exclude:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"node_modules/"})," - Package dependencies"]}),"\n",(0,c.jsxs)(n.li,{children:["Build outputs: ",(0,c.jsx)(n.code,{children:"dist/"}),", ",(0,c.jsx)(n.code,{children:"build/"}),", ",(0,c.jsx)(n.code,{children:".next/"}),", ",(0,c.jsx)(n.code,{children:"out/"}),", ",(0,c.jsx)(n.code,{children:"*.bundle.js"})]}),"\n",(0,c.jsxs)(n.li,{children:["Log files: ",(0,c.jsx)(n.code,{children:"*.log"}),", ",(0,c.jsx)(n.code,{children:"npm-debug.log*"}),", ",(0,c.jsx)(n.code,{children:"yarn-error.log"})]}),"\n",(0,c.jsxs)(n.li,{children:["Temporary files: ",(0,c.jsx)(n.code,{children:"*.tmp"}),", ",(0,c.jsx)(n.code,{children:"*.temp"}),", ",(0,c.jsx)(n.code,{children:".cache/"}),", ",(0,c.jsx)(n.code,{children:"*.swp"}),", ",(0,c.jsx)(n.code,{children:"*~"})]}),"\n",(0,c.jsxs)(n.li,{children:["OS files: ",(0,c.jsx)(n.code,{children:".DS_Store"}),", ",(0,c.jsx)(n.code,{children:"Thumbs.db"}),", ",(0,c.jsx)(n.code,{children:"Desktop.ini"})]}),"\n",(0,c.jsxs)(n.li,{children:["IDE files: ",(0,c.jsx)(n.code,{children:".idea/"}),", ",(0,c.jsx)(n.code,{children:".vscode/"}),", ",(0,c.jsx)(n.code,{children:"*.sublime-*"})," (unless intentional)"]}),"\n",(0,c.jsxs)(n.li,{children:["Environment files: ",(0,c.jsx)(n.code,{children:".env"}),", ",(0,c.jsx)(n.code,{children:".env.local"}),", ",(0,c.jsx)(n.code,{children:".env*.local"})]}),"\n",(0,c.jsxs)(n.li,{children:["Test coverage: ",(0,c.jsx)(n.code,{children:"coverage/"}),", ",(0,c.jsx)(n.code,{children:".nyc_output/"})]}),"\n",(0,c.jsxs)(n.li,{children:["Package manager: ",(0,c.jsx)(n.code,{children:"pnpm-lock.yaml"}),", ",(0,c.jsx)(n.code,{children:"package-lock.json"}),", ",(0,c.jsx)(n.code,{children:"yarn.lock"})," (context-dependent)"]}),"\n",(0,c.jsxs)(n.li,{children:["Secrets/credentials: ",(0,c.jsx)(n.code,{children:"*.pem"}),", ",(0,c.jsx)(n.code,{children:"*.key"}),", ",(0,c.jsx)(n.code,{children:"credentials.json"}),", ",(0,c.jsx)(n.code,{children:"secrets.*"})]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"If unwanted files are found:"})}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["Check if ",(0,c.jsx)(n.code,{children:".gitignore"})," exists in the project root"]}),"\n",(0,c.jsx)(n.li,{children:"If it exists, check if the unwanted patterns are already listed"}),"\n",(0,c.jsxs)(n.li,{children:["If patterns are missing, add them to ",(0,c.jsx)(n.code,{children:".gitignore"})]}),"\n",(0,c.jsxs)(n.li,{children:["If ",(0,c.jsx)(n.code,{children:".gitignore"})," doesn't exist and project has ",(0,c.jsx)(n.code,{children:"package.json"})," or other project markers, create one with common patterns"]}),"\n",(0,c.jsxs)(n.li,{children:["After updating ",(0,c.jsx)(n.code,{children:".gitignore"}),", the ignored files will no longer appear in ",(0,c.jsx)(n.code,{children:"git status"})]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"If any unwanted files are already staged:"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Unstage them with ",(0,c.jsx)(n.code,{children:"git reset HEAD &lt;file&gt;"})]}),"\n",(0,c.jsx)(n.li,{children:"If they were previously committed, inform the user they may need to remove them from history"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Filter and select files to commit"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Review remaining files after .gitignore filtering"}),"\n",(0,c.jsx)(n.li,{children:"Only stage files that contain intentional, meaningful changes"}),"\n",(0,c.jsx)(n.li,{children:"Skip auto-generated files (timestamps, caches, lock files unless relevant)"}),"\n",(0,c.jsx)(n.li,{children:"If unsure about a file, ask the user"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Analyze and group changes"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"If changes are small and related: make a single commit"}),"\n",(0,c.jsx)(n.li,{children:"If changes span multiple unrelated concerns: separate into logical commits"}),"\n",(0,c.jsxs)(n.li,{children:["Examples of good separation:","\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Documentation changes vs code changes"}),"\n",(0,c.jsx)(n.li,{children:"Feature additions vs bug fixes"}),"\n",(0,c.jsx)(n.li,{children:"Refactoring vs new functionality"}),"\n",(0,c.jsx)(n.li,{children:"Config changes vs source changes"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Create commits"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Write clear, concise commit messages"}),"\n",(0,c.jsx)(n.li,{children:"Use conventional commit style when appropriate (feat:, fix:, docs:, refactor:, etc.)"}),"\n",(0,c.jsxs)(n.li,{children:["Add ",(0,c.jsx)(n.code,{children:"Co-Authored-By: Claude <noreply@anthropic.com>"})," if Claude contributed significantly"]}),"\n",(0,c.jsxs)(n.li,{children:["Use HEREDOC format for commit messages:","\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"git commit -m \"$(cat <<'EOF'\nCommit message here\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\"\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.strong,{children:"Verify"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Run ",(0,c.jsx)(n.code,{children:"git status"})," after committing to confirm working tree is clean"]}),"\n",(0,c.jsxs)(n.li,{children:["Run ",(0,c.jsx)(n.code,{children:"git log --oneline -n <number of commits>"})," to show what was committed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Never use ",(0,c.jsx)(n.code,{children:"git add ."})," blindly - be selective about what to stage"]}),"\n",(0,c.jsx)(n.li,{children:"If unsure whether a file should be committed, ask the user"}),"\n",(0,c.jsx)(n.li,{children:"Prefer smaller, focused commits over large monolithic commits"}),"\n",(0,c.jsx)(n.li,{children:"Always verify the commit was successful before moving on"}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsxs)(n.strong,{children:["Never use ",(0,c.jsx)(n.code,{children:"git commit --amend"})," without explicit user permission"]})," - Always create new commits by default. Amending commits can be confusing and may cause issues if the original commit was already shared. If you need to fix a previous commit, ask the user first."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Proactively update .gitignore"})," - If you see files that should be ignored (node_modules, .env, logs, etc.), update .gitignore before committing. This prevents accidental commits of sensitive or unnecessary files in the future."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}}}]);