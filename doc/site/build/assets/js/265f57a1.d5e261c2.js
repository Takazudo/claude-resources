"use strict";(self.webpackChunkclaude_code_doc_site=self.webpackChunkclaude_code_doc_site||[]).push([[9536],{3351(e,n,i){i.d(n,{R:()=>t,x:()=>o});var s=i(2128);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}},3773(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"claude/skills/schemdraw-circuit-generator","title":"schemdraw-circuit-generator","description":"Generate high-quality professional circuit diagrams using schemdraw Python library. Creates vector graphics (SVG/PDF/PNG) from natural language circuit descriptions. Supports extensive component libra...","source":"@site/docs/claude/skills/schemdraw-circuit-generator.mdx","sourceDirName":"claude/skills","slug":"/claude/skills/schemdraw-circuit-generator","permalink":"/docs/claude/skills/schemdraw-circuit-generator","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"schemdraw-circuit-generator","description":"Generate high-quality professional circuit diagrams using schemdraw Python library. Creates vector graphics (SVG/PDF/PNG) from natural language circuit descriptions. Supports extensive component libra..."},"sidebar":"claudeSidebar","previous":{"title":"pdf-combine","permalink":"/docs/claude/skills/pdf-combine"},"next":{"title":"Best Practices for Schemdraw Circuits","permalink":"/docs/claude/skills/schemdraw-circuit-generator/best-practices"}}');var r=i(7900),l=i(3351);const t={title:"schemdraw-circuit-generator",description:"Generate high-quality professional circuit diagrams using schemdraw Python library. Creates vector graphics (SVG/PDF/PNG) from natural language circuit descriptions. Supports extensive component libra..."},o="schemdraw-circuit-generator",c={},a=[{value:"Quick Start Workflow",id:"quick-start-workflow",level:2},{value:"Visual Verification Checklist (MANDATORY)",id:"visual-verification-checklist-mandatory",level:2},{value:"The Human-Driven Verification Loop",id:"the-human-driven-verification-loop",level:3},{value:"Visual Verification Categories",id:"visual-verification-categories",level:3},{value:"1. Connection Visibility Test",id:"1-connection-visibility-test",level:4},{value:"2. Label Overlap Detection",id:"2-label-overlap-detection",level:4},{value:"3. Line Overlap Detection",id:"3-line-overlap-detection",level:4},{value:"4. Definition of &quot;Complete&quot;",id:"4-definition-of-complete",level:4},{value:"Screenshot Generation for USER Review",id:"screenshot-generation-for-user-review",level:3},{value:"Common IC Connection Patterns (Context7 Reference)",id:"common-ic-connection-patterns-context7-reference",level:3},{value:"Using Context7 for Documentation",id:"using-context7-for-documentation",level:2},{value:"Installation",id:"installation",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Drawing Context",id:"drawing-context",level:3},{value:"Element Chaining",id:"element-chaining",level:3},{value:"Directional Methods",id:"directional-methods",level:3},{value:"Positioning",id:"positioning",level:3},{value:"Anchors",id:"anchors",level:3},{value:"Labels",id:"labels",level:3},{value:"Connections",id:"connections",level:3},{value:"Step-by-Step Workflow (Incremental Approach)",id:"step-by-step-workflow-incremental-approach",level:2},{value:"Step A: Create Connection List",id:"step-a-create-connection-list",level:3},{value:"Step B: Incremental Build - Start with Foundation",id:"step-b-incremental-build---start-with-foundation",level:3},{value:"Step C: Execute and Verify",id:"step-c-execute-and-verify",level:3},{value:"Step D: Conversational Build Loop",id:"step-d-conversational-build-loop",level:3},{value:"Step E: Final Verification",id:"step-e-final-verification",level:3},{value:"Step F: Deliver",id:"step-f-deliver",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Reference Documentation",id:"reference-documentation",level:2},{value:"components.md",id:"componentsmd",level:3},{value:"patterns.md",id:"patternsmd",level:3},{value:"best-practices.md",id:"best-practicesmd",level:3},{value:"examples.md",id:"examplesmd",level:3},{value:"troubleshooting.md",id:"troubleshootingmd",level:3},{value:"Best Practices (Learned from Real Usage)",id:"best-practices-learned-from-real-usage",level:2},{value:"1. Consistent Label Positioning for Vertical Components",id:"1-consistent-label-positioning-for-vertical-components",level:3},{value:"2. IC Edge Padding for Label Clearance",id:"2-ic-edge-padding-for-label-clearance",level:3},{value:"3. Precise Junction Positioning",id:"3-precise-junction-positioning",level:3},{value:"4. Proper Push/Pop Stack Management",id:"4-proper-pushpop-stack-management",level:3},{value:"5. Ground Symbol Orientation",id:"5-ground-symbol-orientation",level:3},{value:"6. User Correction Responsiveness",id:"6-user-correction-responsiveness",level:3},{value:"7. Spacing Adjustments",id:"7-spacing-adjustments",level:3},{value:"Quick Tips",id:"quick-tips",level:2},{value:"Output Formats",id:"output-formats",level:2},{value:"Black Foreground with Transparent Background (Default)",id:"black-foreground-with-transparent-background-default",level:2},{value:"Example: Simple Voltage Divider",id:"example-simple-voltage-divider",level:2},{value:"When to Use This Skill",id:"when-to-use-this-skill",level:2},{value:"When NOT to Use",id:"when-not-to-use",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"schemdraw-circuit-generator",children:"schemdraw-circuit-generator"})}),"\n",(0,r.jsx)(n.admonition,{title:"Bundled Resources",type:"info",children:(0,r.jsxs)(n.p,{children:["This skill includes: ",(0,r.jsx)(n.a,{href:"#references",children:"references"}),", scripts, assets"]})}),"\n",(0,r.jsx)(n.h1,{id:"schemdraw-circuit-generator-1",children:"Schemdraw Circuit Generator"}),"\n",(0,r.jsx)(n.p,{children:"Generate professional, publication-quality circuit diagrams using schemdraw Python library. Outputs to vector formats (SVG, PDF) or raster (PNG)."}),"\n",(0,r.jsx)(n.h2,{id:"quick-start-workflow",children:"Quick Start Workflow"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud83c\udfaf RECOMMENDED: Incremental Conversational Approach"})}),"\n",(0,r.jsxs)(n.p,{children:["This workflow builds diagrams step-by-step with visual confirmation at each stage. ",(0,r.jsx)(n.strong,{children:"Use this for complex circuits or when starting fresh."})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A. Connection List"})," - Write explicit connection list showing all component pins",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"B. Incremental Build Loop"})," - Build one component/section at a time:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Add ONE component or connection"}),' (e.g., "IC only", "add GND connection", "add R1")']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Execute"})," - Run Python script and save SVG"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Visual Check"})," - Generate screenshot via HTML wrapper + headless browser"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User Confirmation"})," - Show screenshot, get approval before proceeding"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"REPEAT"})," - Go back to step 1 for next component until circuit complete"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why this works:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Catches issues immediately when they occur"}),"\n",(0,r.jsx)(n.li,{children:"Easy to debug single changes"}),"\n",(0,r.jsx)(n.li,{children:"User can guide spacing, positioning, and layout decisions"}),"\n",(0,r.jsx)(n.li,{children:"Prevents compound errors that are hard to untangle"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"C. Final Verification"})," - Once all components added:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Generate final screenshot"}),"\n",(0,r.jsx)(n.li,{children:"Trace each connection from Step A connection list"}),"\n",(0,r.jsx)(n.li,{children:"Verify all component values, labels, pin numbers present"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"D. Complete"})," - Deliver connection list AND final diagram"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u26a1 ALTERNATIVE: All-at-Once Approach"})," ",(0,r.jsx)(n.em,{children:"(Only for simple circuits or experienced users)"})]}),"\n",(0,r.jsx)(n.p,{children:"Use this workflow ONLY when:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Circuit is simple (< 5 components)"}),"\n",(0,r.jsx)(n.li,{children:"You have high confidence in layout"}),"\n",(0,r.jsx)(n.li,{children:"User explicitly requests complete diagram in one shot"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A. Connection List"})," - Write explicit connection list showing all component pins",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"B. Generate Complete Code"})," - Create schemdraw code implementing ALL connections",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"C. Execute"})," - Run Python script and save SVG",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"D. Visual Verification (MANDATORY)"})," - Perform comprehensive visual assessment"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Generate screenshot via HTML wrapper + headless browser"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"LIST ALL PROBLEMS FIRST"})," (don't fix one-by-one - you'll forget issues!)"]}),"\n",(0,r.jsx)(n.li,{children:"Apply ALL fixes at once"}),"\n",(0,r.jsx)(n.li,{children:"Confirm with fresh screenshot"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"REPEAT"})," until all problems resolved",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"E. Final Confirmation"})," - Trace each signal path from connection list"]}),"\n",(0,r.jsxs)(n.li,{children:["If violations found: ",(0,r.jsx)(n.strong,{children:"Return to B"})," with fixes"]}),"\n",(0,r.jsxs)(n.li,{children:["If clean: ",(0,r.jsx)(n.strong,{children:"Proceed to F"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"F. Complete"})," - Deliver both connection list AND diagram"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u26a0\ufe0f Warning:"})," All-at-once approach often requires multiple fix iterations for complex circuits. Incremental approach is more reliable."]}),"\n",(0,r.jsx)(n.h2,{id:"visual-verification-checklist-mandatory",children:"Visual Verification Checklist (MANDATORY)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud83d\udea8 CRITICAL REALITY: Only Human Visual Feedback is Reliable"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"AI visual assessment is NOT reliable for layout verification."}),' AI may report "all connections traceable" while humans see obvious layout problems. Therefore:']}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Generate screenshots for HUMAN review"})," - Always provide visual output"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Wait for human feedback"})," - Don't make assumptions about visual quality"]}),"\n",(0,r.jsxs)(n.li,{children:["\u274c ",(0,r.jsx)(n.strong,{children:"Don't trust AI visual verification"})," - It misses layout issues humans easily spot"]}),"\n",(0,r.jsxs)(n.li,{children:["\u274c ",(0,r.jsx)(n.strong,{children:'Don\'t claim "complete" without user confirmation'})," - User must see and approve"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"the-human-driven-verification-loop",children:"The Human-Driven Verification Loop"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"This is like HTML+CSS development"})," - requires human eyes to judge visual quality."]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GENERATE SCREENSHOT"})," - Create visual output for user to review"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SHOW TO USER"})," - Present screenshot and ask for feedback"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"LISTEN TO HUMAN FEEDBACK"})," - User will identify spacing, overlap, or clarity issues"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"FIX BASED ON USER INPUT"})," - Apply changes user requests"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"REPEAT"})," - Generate new screenshot, show to user, iterate until approved"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key insight"}),": Users see layout problems AI cannot detect. Trust human feedback over AI assessment."]}),"\n",(0,r.jsx)(n.h3,{id:"visual-verification-categories",children:"Visual Verification Categories"}),"\n",(0,r.jsx)(n.h4,{id:"1-connection-visibility-test",children:"1. Connection Visibility Test"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'"Technically connected" \u2260 "Visually connected"'})}),"\n",(0,r.jsx)(n.p,{children:"For each connection in your connection list:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Can you visually TRACE the line end-to-end?"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Are junction dots visible at split points?"}),"\n",(0,r.jsx)(n.li,{children:"\u274c Are lines overlapping IC edges? (Human can't see the connection!)"}),"\n",(0,r.jsx)(n.li,{children:"\u274c Are lines hidden behind component bodies?"}),"\n",(0,r.jsx)(n.li,{children:"\u274c Are connection points ambiguous?"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Common failure"}),": Line connects to IC pin at the edge of the IC box \u2192 looks disconnected even though code is correct."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix"}),": Route connections AWAY from IC edges using Manhattan routing:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# \u274c WRONG - line touches IC edge, invisible\nelm.Line().at(junction).to(ic.PIN)\n\n# \u2705 CORRECT - route away from edge first\nelm.Line().at(junction).down(0.5)\nelm.Line().left(SMALL_SPACING)  # Clear the IC edge\nelm.Dot()\nelm.Line().down(0.5)\nelm.Dot()\nelm.Line().right(SMALL_SPACING + 1.0)  # Now visible approaching pin\n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-label-overlap-detection",children:"2. Label Overlap Detection"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud83d\udea8 CRITICAL RULE: Labels must NEVER overlap component symbols"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Common overlap zones:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Labels on component symbols"}),' - \u274c FORBIDDEN (e.g., "10k\u03a9" text on resistor zigzag)']}),"\n",(0,r.jsx)(n.li,{children:"Adjacent components on same signal path (R1 \u2194 R2)"}),"\n",(0,r.jsx)(n.li,{children:"IC center label \u2194 pin labels (IC name \u2194 VOUT)"}),"\n",(0,r.jsx)(n.li,{children:"Component labels \u2194 value labels"}),"\n",(0,r.jsx)(n.li,{children:"Labels \u2194 junction dots or lines"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Visual test questions:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u274c Is label text sitting ON TOP of component symbol? (resistor, capacitor, inductor)"}),"\n",(0,r.jsx)(n.li,{children:"\u274c Are any characters touching between different labels?"}),"\n",(0,r.jsx)(n.li,{children:"\u274c Is label text crowded or cramped?"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Can you clearly read each label independently?"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Can you see the complete component symbol without text obscuring it?"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fix priority order:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"First: Increase spacing"})," - Most effective, cleanest solution"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"HORIZONTAL_SPACING = 1.5  # Increase from 1.0\nVERTICAL_SPACING = 1.5    # Increase from 1.0\nSMALL_SPACING = 0.75      # Increase from 0.5\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Second: Adjust label position"})," - Change ",(0,r.jsx)(n.code,{children:"loc"})," parameter"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# R1/R2 overlap example:\nelm.Resistor().label('R1\\n10k\u03a9', loc='top', ofst=0.2)  # Push up\nelm.Resistor().label('R2\\n1k\u03a9', loc='left')  # Move to opposite side\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Third: Reduce font size"})," - Only if spacing isn't feasible"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:".label('U2\\nLM2596S', fontsize=10)  # Reduce from 11\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fourth: Add offset"})," - Fine-tune position"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:".label('IC', ofst=-0.3)  # Shift left by 0.3 units\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"3-line-overlap-detection",children:"3. Line Overlap Detection"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud83d\udea8 CRITICAL RULE: Lines touching IC edges = Connection ambiguity"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Problem areas:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lines touching/overlapping IC box edges"}),' - \u274c FORBIDDEN ("Is this connected?" - impossible to tell!)']}),"\n",(0,r.jsx)(n.li,{children:"Lines crossing component bodies"}),"\n",(0,r.jsx)(n.li,{children:"Lines crossing other lines without junction"}),"\n",(0,r.jsx)(n.li,{children:"Lines crossing ground symbols"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fix rules:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["NEVER use ",(0,r.jsx)(n.code,{children:".to(ic.PIN)"})," directly"]})," - creates line touching IC edge"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:".at()"})," to position connections explicitly"]}),"\n",(0,r.jsx)(n.li,{children:"Use Manhattan routing (horizontal \u2192 vertical \u2192 horizontal only)"}),"\n",(0,r.jsx)(n.li,{children:"Add intermediate junction dots to clarify path"}),"\n",(0,r.jsx)(n.li,{children:"Route around component bodies, not through them"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Leave visible gap between IC edge and incoming lines"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example - Correct IC connection:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# \u274c WRONG - line touches IC edge\nelm.Line().at(junction).to(ic.VIN)\n\n# \u2705 CORRECT - visible gap before IC edge\nelm.Line().at(junction).right(1.0)  # Stop BEFORE IC edge\n# IC connects from current position automatically\n"})}),"\n",(0,r.jsx)(n.h4,{id:"4-definition-of-complete",children:'4. Definition of "Complete"'}),"\n",(0,r.jsx)(n.p,{children:"A diagram is complete ONLY when:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Code executes without errors"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 SVG generates successfully"}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"USER has visually reviewed screenshot and approved"})," (MOST IMPORTANT)"]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"USER confirms all connections are traceable"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"USER confirms no visual issues"})," (overlaps, spacing, clarity)"]}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Every item from connection list is verified in diagram"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'\ud83d\udea8 CRITICAL: Never claim "complete" without explicit user approval of visual output!'})}),"\n",(0,r.jsx)(n.p,{children:"AI cannot reliably assess visual quality. Only human confirmation counts."}),"\n",(0,r.jsx)(n.h3,{id:"screenshot-generation-for-user-review",children:"Screenshot Generation for USER Review"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Purpose: Generate visual output for HUMAN evaluation, not AI assessment."})}),"\n",(0,r.jsx)(n.p,{children:"Use HTML wrapper + headless browser to create screenshots for user review:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Generate SVG first\npython3 /tmp/circuit.py\n\n# Create HTML wrapper\ncat > /tmp/view_diagram.html << 'EOF'\n<!DOCTYPE html>\n<html><head><meta charset=\"UTF-8\"><title>Check</title>\n<style>\nbody{margin:20px;background:white;display:flex;justify-content:center;align-items:center;min-height:100vh;}\nsvg{border:2px solid #333;max-width:100%;max-height:90vh;}\n</style>\n</head><body>\n[Paste SVG content here]\n</body></html>\nEOF\n\n# Capture screenshot\nnode ~/.claude/skills/headless-browser/scripts/headless-check.js \\\n  --url file:///tmp/view_diagram.html \\\n  --screenshot viewport\n"})}),"\n",(0,r.jsx)(n.p,{children:"Then READ the screenshot and perform comprehensive visual assessment."}),"\n",(0,r.jsx)(n.h3,{id:"common-ic-connection-patterns-context7-reference",children:"Common IC Connection Patterns (Context7 Reference)"}),"\n",(0,r.jsx)(n.p,{children:"When working with ICs, query context7 for proper connection syntax:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'topic: "IC integrated circuit pin connection"\ntopic: "wire routing shapes manhattan"\ntopic: "element positioning at anchor"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key IC patterns learned:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["IC connects via ",(0,r.jsx)(n.strong,{children:"sequential flow"})," - current position flows to first left pin automatically"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:".at(ic.pinname)"})," to start FROM a specific pin"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:".at(junction)"})," BEFORE routing TO a pin to avoid edge overlap"]}),"\n",(0,r.jsxs)(n.li,{children:["Pin names are anchors: ",(0,r.jsx)(n.code,{children:"ic.VIN"}),", ",(0,r.jsx)(n.code,{children:"ic.GND"}),", ",(0,r.jsx)(n.code,{children:"ic.FB"}),", ",(0,r.jsx)(n.code,{children:"ic.VOUT"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example of proper IC connection:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Create junction BEFORE IC\nelm.Dot()\npre_ic_junction = d.here\n\n# IC connects automatically from current position (sequential flow)\nic = elm.Ic(pins=[...])\n\n# Route from junction to IC pin explicitly\nelm.Line().at(pre_ic_junction).down(1.0)\nelm.Dot()\nelm.Line().right(1.0)  # Now connects to IC.PIN visibly\n"})}),"\n",(0,r.jsx)(n.h2,{id:"using-context7-for-documentation",children:"Using Context7 for Documentation"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CRITICAL"}),": Schemdraw has extensive features. When you need specific syntax, advanced features, or uncommon components, use context7:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'mcp__context7__get-library-docs(\n  context7CompatibleLibraryID: "/cdelker/schemdraw",\n  mode: "code",\n  topic: "your specific topic"\n)\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When to use context7:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Uncommon components not in references/components.md"}),"\n",(0,r.jsx)(n.li,{children:"Advanced features (custom elements, annotations, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"Specific IC pinout configurations"}),"\n",(0,r.jsx)(n.li,{children:"Latest API changes or new features"}),"\n",(0,r.jsx)(n.li,{children:"Troubleshooting unusual errors"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'topic: "opamp operational amplifier circuits"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'topic: "transistor bjt npn pnp"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'topic: "wire routing shapes"'})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:'topic: "seven segment display multiplexer"'})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pip install schemdraw\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Dependencies"}),": numpy, pillow (for PNG export), matplotlib (optional backend)"]}),"\n",(0,r.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,r.jsx)(n.h3,{id:"drawing-context",children:"Drawing Context"}),"\n",(0,r.jsx)(n.p,{children:"All diagrams use context manager:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import schemdraw\nfrom schemdraw import elements as elm\n\nwith schemdraw.Drawing(file='output.svg') as d:\n    elm.Resistor().label('1k\u03a9')\n    elm.Capacitor().down().label('10\xb5F')\n"})}),"\n",(0,r.jsx)(n.h3,{id:"element-chaining",children:"Element Chaining"}),"\n",(0,r.jsx)(n.p,{children:"Elements chain sequentially, each picking up where last ended:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"elm.Resistor().right().label('R1')  # Goes right\nelm.Capacitor().down().label('C1')  # Goes down from R1's end\nelm.Line().left()                    # Goes left from C1's end\n"})}),"\n",(0,r.jsx)(n.h3,{id:"directional-methods",children:"Directional Methods"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".up()"}),", ",(0,r.jsx)(n.code,{children:".down()"}),", ",(0,r.jsx)(n.code,{children:".left()"}),", ",(0,r.jsx)(n.code,{children:".right()"})," - Cardinal directions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".theta(angle)"})," - Arbitrary angle in degrees"]}),"\n",(0,r.jsxs)(n.li,{children:["Optional length: ",(0,r.jsx)(n.code,{children:".up(length=2)"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"positioning",children:"Positioning"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".at(position)"})," - Place at specific location or anchor"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".to(position)"})," - Draw to endpoint"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".toy(y)"})," / ",(0,r.jsx)(n.code,{children:".tox(x)"})," - Manhattan routing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".anchor(name)"})," - Set which part is positioned"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"anchors",children:"Anchors"}),"\n",(0,r.jsx)(n.p,{children:"Elements have named connection points:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Two-terminal: ",(0,r.jsx)(n.code,{children:"start"}),", ",(0,r.jsx)(n.code,{children:"end"}),", ",(0,r.jsx)(n.code,{children:"center"})]}),"\n",(0,r.jsxs)(n.li,{children:["Transistors: ",(0,r.jsx)(n.code,{children:"base"}),", ",(0,r.jsx)(n.code,{children:"collector"}),", ",(0,r.jsx)(n.code,{children:"emitter"})," (BJT) or ",(0,r.jsx)(n.code,{children:"gate"}),", ",(0,r.jsx)(n.code,{children:"drain"}),", ",(0,r.jsx)(n.code,{children:"source"})," (FET)"]}),"\n",(0,r.jsxs)(n.li,{children:["Opamps: ",(0,r.jsx)(n.code,{children:"in1"}),", ",(0,r.jsx)(n.code,{children:"in2"}),", ",(0,r.jsx)(n.code,{children:"out"}),", ",(0,r.jsx)(n.code,{children:"vd"}),", ",(0,r.jsx)(n.code,{children:"vs"})]}),"\n",(0,r.jsx)(n.li,{children:"ICs: Custom pin names"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"labels",children:"Labels"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"elm.Resistor().label('R1')                   # Simple label\nelm.Resistor().label('$R_1$')                # LaTeX math\nelm.Resistor().label('1k\u03a9', loc='bottom')   # Position\nelm.Capacitor().label(('\u2212', '$V_o$', '+'))  # Multiple (polarity)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"connections",children:"Connections"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"elm.Dot()"})," - Junction (filled circle)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"elm.Dot(open=True)"})," - Terminal (open circle)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"elm.Line()"})," - Straight connection"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"elm.Wire('shape')"})," - Routed: ",(0,r.jsx)(n.code,{children:"'-|'"}),", ",(0,r.jsx)(n.code,{children:"'|-'"}),", ",(0,r.jsx)(n.code,{children:"'N'"}),", ",(0,r.jsx)(n.code,{children:"'Z'"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-by-step-workflow-incremental-approach",children:"Step-by-Step Workflow (Incremental Approach)"}),"\n",(0,r.jsx)(n.h3,{id:"step-a-create-connection-list",children:"Step A: Create Connection List"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CRITICAL"}),": Start with explicit connection list, not the diagram."]}),"\n",(0,r.jsx)(n.p,{children:"Write every connection showing which pin connects to which:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Connections:\n- +15V input \u2192 U2 (LM2596S) pin 5 (VIN)\n- +15V input \u2192 C5 (100\xb5F) \u2192 GND\n- U2 pin 3 (ON) \u2192 +15V (always enabled)\n- U2 pin 4 (VOUT) \u2192 Switching node\n- Switching node \u2192 L1 (100\xb5H) \u2192 +13.5V Output\n- Switching node \u2192 D1 (SS34 cathode)\n- D1 (SS34 anode) \u2192 GND\n- +13.5V \u2192 C3 (470\xb5F) \u2192 GND\n- U2 pin 2 (FB) \u2192 R1 (10k\u03a9) \u2192 Tap\n- Tap \u2192 R2 (1k\u03a9) \u2192 GND\n- Tap \u2192 +13.5V (feedback sense)\n- U2 pin 1 (GND) \u2192 GND\n"})}),"\n",(0,r.jsx)(n.p,{children:"This list serves as the specification. The diagram must satisfy EVERY connection."}),"\n",(0,r.jsx)(n.h3,{id:"step-b-incremental-build---start-with-foundation",children:"Step B: Incremental Build - Start with Foundation"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"CRITICAL"}),": Build circuit incrementally, one component/connection at a time."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Typical build order:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Start with IC only (no connections)"}),"\n",(0,r.jsx)(n.li,{children:"Add power connections (VIN, ON pins to input rail)"}),"\n",(0,r.jsx)(n.li,{children:"Add ground connection"}),"\n",(0,r.jsx)(n.li,{children:"Add input decoupling capacitors"}),"\n",(0,r.jsx)(n.li,{children:"Add output stage (VOUT \u2192 switching node \u2192 L1 \u2192 output)"}),"\n",(0,r.jsx)(n.li,{children:"Add flyback diode and output capacitor"}),"\n",(0,r.jsx)(n.li,{children:"Add feedback network"}),"\n",(0,r.jsx)(n.li,{children:"Connect feedback to FB pin"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example - First iteration (IC only):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import schemdraw\nfrom schemdraw import elements as elm\n\n# Black foreground with transparent background (default)\nwith schemdraw.Drawing(\n    font='Arial',\n    fontsize=11,\n    color='black',\n    transparent=True\n) as d:\n    d.config(unit=3)\n\n    # Iteration 1: IC only\n    ic = elm.Ic(\n        pins=[\n            elm.IcPin(name='GND', pin='3', side='left', slot='1/3'),\n            elm.IcPin(name='ON', pin='5', side='left', slot='2/3'),\n            elm.IcPin(name='VIN', pin='1', side='left', slot='3/3'),\n            elm.IcPin(name='FB', pin='4', side='right', slot='1/2'),\n            elm.IcPin(name='VOUT', pin='2', side='right', slot='2/2'),\n        ],\n        edgepadW=2.5,\n        edgepadH=0.8,\n        pinspacing=1.0,\n        leadlen=1.0\n    ).label('U2\\nLM2596S', loc='center', fontsize=10)\n\n    d.save('/tmp/buck_converter.svg')\n"})}),"\n",(0,r.jsx)(n.h3,{id:"step-c-execute-and-verify",children:"Step C: Execute and Verify"}),"\n",(0,r.jsx)(n.p,{children:"After EACH iteration:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Run the script:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python3 /tmp/circuit_generator.py\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Generate screenshot:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'cat > /tmp/view.html << \'EOF\'\n<!DOCTYPE html>\n<html><head><meta charset="UTF-8"><title>Circuit Check</title>\n<style>\nbody{margin:20px;background:white;display:flex;justify-content:center;align-items:center;min-height:100vh;}\nsvg{border:2px solid #333;max-width:100%;max-height:90vh;}\n</style>\n</head><body>\nEOF\ncat /tmp/buck_converter.svg >> /tmp/view.html\necho "</body></html>" >> /tmp/view.html\nnode ~/.claude/skills/headless-browser/scripts/headless-check.js \\\n  --url file:///tmp/view.html --screenshot viewport\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Show user the screenshot"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Get user confirmation:"}),' "Looks good, add next component"']}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Update code for next iteration"})," (e.g., add GND connection)"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"REPEAT"})," steps C1-C5 until circuit complete"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-d-conversational-build-loop",children:"Step D: Conversational Build Loop"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"User guides the process:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'"Add GND connection next"'}),"\n",(0,r.jsx)(n.li,{children:'"Connect the input rail"'}),"\n",(0,r.jsx)(n.li,{children:'"Shorten that line by half"'}),"\n",(0,r.jsx)(n.li,{children:'"Move the label to the right side"'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"You respond with:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Code update for requested change"}),"\n",(0,r.jsx)(n.li,{children:"Execute script"}),"\n",(0,r.jsx)(n.li,{children:"Generate screenshot"}),"\n",(0,r.jsx)(n.li,{children:"Show result"}),"\n",(0,r.jsx)(n.li,{children:"Wait for next instruction"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User can correct spacing/positioning immediately"}),"\n",(0,r.jsx)(n.li,{children:"Catches label overlaps before they compound"}),"\n",(0,r.jsx)(n.li,{children:"Easy to adjust layout decisions in real-time"}),"\n",(0,r.jsx)(n.li,{children:"No need to untangle complex multi-component issues"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-e-final-verification",children:"Step E: Final Verification"}),"\n",(0,r.jsx)(n.p,{children:"Once all components added and user confirms diagram looks complete:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Visual check:"})," Generate final screenshot"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Connection trace:"})," Verify each connection from Step A list is present"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Component verification:"})," Check all values, labels, pin numbers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User approval:"})," Get final confirmation"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-f-deliver",children:"Step F: Deliver"}),"\n",(0,r.jsx)(n.p,{children:"Provide to user:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Connection list"})," (from Step A)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Final SVG diagram"})," (verified version)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Python code"})," (for reproducibility)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Screenshot"})," (for documentation)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.code,{children:"references/patterns.md"})," for copy-paste patterns:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Voltage divider"}),"\n",(0,r.jsx)(n.li,{children:"RC filter (low-pass, high-pass)"}),"\n",(0,r.jsx)(n.li,{children:"Inverting/non-inverting opamp"}),"\n",(0,r.jsx)(n.li,{children:"Transistor switch"}),"\n",(0,r.jsx)(n.li,{children:"LED driver"}),"\n",(0,r.jsx)(n.li,{children:"Buck converter"}),"\n",(0,r.jsx)(n.li,{children:"Comparator"}),"\n",(0,r.jsx)(n.li,{children:"And more..."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"reference-documentation",children:"Reference Documentation"}),"\n",(0,r.jsx)(n.h3,{id:"componentsmd",children:"components.md"}),"\n",(0,r.jsx)(n.p,{children:"Complete component library reference with syntax for all elements:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Passive: Resistors, capacitors, inductors"}),"\n",(0,r.jsx)(n.li,{children:"Semiconductors: Diodes, transistors (BJT/FET)"}),"\n",(0,r.jsx)(n.li,{children:"Sources: Voltage, current, AC, batteries"}),"\n",(0,r.jsx)(n.li,{children:"ICs: Opamps, logic gates, specialized ICs"}),"\n",(0,r.jsx)(n.li,{children:"Power/Ground: Various ground and supply symbols"}),"\n",(0,r.jsx)(n.li,{children:"Connections: Dots, lines, wires"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"patternsmd",children:"patterns.md"}),"\n",(0,r.jsx)(n.p,{children:"Copy-paste code for common circuits:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Simple circuits (voltage divider, RC filter, LED)"}),"\n",(0,r.jsx)(n.li,{children:"Opamp configurations (inverting, non-inverting, buffer, comparator)"}),"\n",(0,r.jsx)(n.li,{children:"Transistor circuits (switch, amplifier)"}),"\n",(0,r.jsx)(n.li,{children:"Advanced circuits (H-bridge, oscillators)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"best-practicesmd",children:"best-practices.md"}),"\n",(0,r.jsx)(n.p,{children:"Guidelines for professional diagrams:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Layout strategies"}),"\n",(0,r.jsx)(n.li,{children:"Labeling conventions"}),"\n",(0,r.jsx)(n.li,{children:"Connection techniques"}),"\n",(0,r.jsx)(n.li,{children:"Readability tips"}),"\n",(0,r.jsx)(n.li,{children:"Code organization"}),"\n",(0,r.jsx)(n.li,{children:"Common mistakes to avoid"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"examplesmd",children:"examples.md"}),"\n",(0,r.jsx)(n.p,{children:"Complete working examples:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"555 timer LED blinker"}),"\n",(0,r.jsx)(n.li,{children:"Inverting opamp with power"}),"\n",(0,r.jsx)(n.li,{children:"Differential amplifier"}),"\n",(0,r.jsx)(n.li,{children:"Common emitter amplifier"}),"\n",(0,r.jsx)(n.li,{children:"H-bridge motor driver"}),"\n",(0,r.jsx)(n.li,{children:"RC oscillator"}),"\n",(0,r.jsx)(n.li,{children:"Natural language parsing tips"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"troubleshootingmd",children:"troubleshooting.md"}),"\n",(0,r.jsx)(n.p,{children:"Solutions to common problems:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Installation and import issues"}),"\n",(0,r.jsx)(n.li,{children:"Layout and positioning problems"}),"\n",(0,r.jsx)(n.li,{children:"Label issues (Unicode, LaTeX)"}),"\n",(0,r.jsx)(n.li,{children:"Connection problems"}),"\n",(0,r.jsx)(n.li,{children:"Orientation issues"}),"\n",(0,r.jsx)(n.li,{children:"Output problems"}),"\n",(0,r.jsx)(n.li,{children:"Advanced issues"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices-learned-from-real-usage",children:"Best Practices (Learned from Real Usage)"}),"\n",(0,r.jsx)(n.h3,{id:"1-consistent-label-positioning-for-vertical-components",children:"1. Consistent Label Positioning for Vertical Components"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"})," Labels on vertical components (resistors, capacitors going up/down) need consistent positioning to avoid overlaps and maintain professional appearance."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Use ",(0,r.jsx)(n.code,{children:"loc='bot', ofst=0.5"})," pattern for all vertical components:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# For components going upward\nelm.Capacitor().up(2.0).label('C3\\n470\xb5F\\n25V', loc='bot', ofst=0.5)\nelm.Ground().flip()  # Flipped ground at top\n\n# For components going downward\nelm.Resistor().down().label('R1\\n10k\u03a9', loc='bot', ofst=0.5)\nelm.Resistor().down().label('R2\\n1k\u03a9', loc='bot', ofst=0.5)\nelm.Ground()  # Normal ground at bottom\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why this works:"})," ",(0,r.jsx)(n.code,{children:"loc='bot'"})," anchors label at component's bottom reference point, ",(0,r.jsx)(n.code,{children:"ofst=0.5"})," shifts it right, positioning label cleanly on the right side of the component body without overlapping the symbol or connection lines."]}),"\n",(0,r.jsx)(n.h3,{id:"2-ic-edge-padding-for-label-clearance",children:"2. IC Edge Padding for Label Clearance"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"}),' IC center label (e.g., "U2 LM2596S") overlaps with pin labels on the right side.']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Use adequate ",(0,r.jsx)(n.code,{children:"edgepadW"})," parameter instead of label offsets:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"ic = elm.Ic(\n    pins=[...],\n    edgepadW=2.5,  # Wider box prevents label overlap\n    edgepadH=0.8,\n    pinspacing=1.0,\n    leadlen=1.0\n).label('U2\\nLM2596S', loc='center', fontsize=10)\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why this works:"})," Widening the IC box is cleaner than using label offsets. Typical values: ",(0,r.jsx)(n.code,{children:"edgepadW=2.5"})," for ICs with 5+ pins."]}),"\n",(0,r.jsx)(n.h3,{id:"3-precise-junction-positioning",children:"3. Precise Junction Positioning"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"})," Need junction at exact midpoint for symmetrical connections."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Calculate position mathematically:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# For horizontal rail between two pins\njunction_y = (ic.VIN[1] + ic.ON[1]) / 2\n\n# Build entire rail at calculated height\nelm.Dot(open=True).at((x_position, junction_y)).label('+15V', loc='left')\nelm.Line().right(2.0)\nelm.Dot()\n# ... all elements at same Y coordinate\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why this works:"})," Calculating exact coordinates ensures straight lines and symmetrical layout. No diagonal connections or misaligned junctions."]}),"\n",(0,r.jsx)(n.h3,{id:"4-proper-pushpop-stack-management",children:"4. Proper Push/Pop Stack Management"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"})," Multiple branches require careful stack management to return to correct positions."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Track push/pop pairs systematically:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"elm.Dot()\njunction1 = d.here\nd.push()  # Save junction1\n\n# Branch 1\nelm.Line().right(1.0)\nelm.Dot()\njunction2 = d.here\nd.push()  # Save junction2\n\n# Branch 2\nelm.Line().right(1.0)\nelm.Dot(open=True)\n\n# Return to junction2\nd.pop()  # Now at junction2\n\n# Continue from junction2\nelm.Line().down(0.5)\nelm.Resistor()...\n\n# Return to junction1\nd.pop()  # Now at junction1\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Rule:"})," Every ",(0,r.jsx)(n.code,{children:"d.push()"})," must have a matching ",(0,r.jsx)(n.code,{children:"d.pop()"}),". Stack structure: LIFO (Last In, First Out)."]}),"\n",(0,r.jsx)(n.h3,{id:"5-ground-symbol-orientation",children:"5. Ground Symbol Orientation"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"})," Ground symbols appear upside-down when components go upward."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Use ",(0,r.jsx)(n.code,{children:".flip()"})," for upward-facing components:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Component going UP - flip ground\nelm.Capacitor().up(2.0)\nelm.Ground().flip()  # Ground symbol at top, points down\n\n# Component going DOWN - normal ground\nelm.Resistor().down()\nelm.Ground()  # Ground symbol at bottom, points down\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Rule:"}),' Ground always "points down" toward earth. Flip when it\'s physically above the component.']}),"\n",(0,r.jsx)(n.h3,{id:"6-user-correction-responsiveness",children:"6. User Correction Responsiveness"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"}),' User says "NO!" or expresses frustration - you misunderstood the request.']}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"STOP immediately"})," - Don't continue with wrong approach"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Re-read user's EXACT words"})," - What did they literally say?"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use exact parameters specified"}),' - "right side" means ',(0,r.jsx)(n.code,{children:"loc='right'"}),", not ",(0,r.jsx)(n.code,{children:"loc='left'"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Show result immediately"})," - Generate screenshot, don't assume it's correct"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Wait for confirmation"})," - Let user verify before proceeding"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example from session:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'User: "the RIGHT side of the capacitor symbol"'}),"\n",(0,r.jsxs)(n.li,{children:["Wrong: ",(0,r.jsx)(n.code,{children:"loc='left'"}),' (causes "NO!!!")']}),"\n",(0,r.jsxs)(n.li,{children:["Correct: ",(0,r.jsx)(n.code,{children:"loc='right'"})," (what they literally requested)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"7-spacing-adjustments",children:"7. Spacing Adjustments"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"})," User requests specific spacing changes during build."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution:"})," Be responsive to spacing requests:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# User: "halve the line there"\nelm.Line().right(1.0)  # Changed from 2.0\n\n# User: "change distance 1 -> 0.5 for each line"\nelm.Line().down(0.5)  # Changed from 1.0\nelm.Resistor()...\nelm.Line().down(0.5)  # All spacing changed consistently\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Why this matters:"})," Small spacing adjustments (0.5 vs 1.0) significantly impact readability and label overlap prevention."]}),"\n",(0,r.jsx)(n.h2,{id:"quick-tips",children:"Quick Tips"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Black foreground with transparent background"})," - Always use ",(0,r.jsx)(n.code,{children:"font='Arial', color='black', transparent=True"})," for web documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Start simple"})," - Use patterns from ",(0,r.jsx)(n.code,{children:"patterns.md"})," as starting point"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Query context7"})," - For components/features not in references"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Save references"})," - Assign elements to variables: ",(0,r.jsx)(n.code,{children:"Q1 = elm.BjtNpn()"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use dots"})," - Always at T-junctions, open dots for terminals"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check anchors"})," - Use correct anchor names for element type"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Manhattan routing"})," - Use ",(0,r.jsx)(n.code,{children:".toy()"})," and ",(0,r.jsx)(n.code,{children:".tox()"})," for clean lines"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Increase spacing"})," - ",(0,r.jsx)(n.code,{children:"d.config(unit=3)"})," if too cramped"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SVG format"})," - Best for documentation (vector, scalable)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consistent labels"})," - Use ",(0,r.jsx)(n.code,{children:"loc='bot', ofst=0.5"})," for vertical components"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Listen carefully"})," - When user corrects you, use their EXACT words"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"output-formats",children:"Output Formats"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# SVG (recommended - vector, scalable)\nwith schemdraw.Drawing(\n    file='circuit.svg',\n    font='Arial',\n    fontsize=11,\n    color='black',\n    transparent=True\n) as d:\n    d.config(unit=3)\n    # ... components ...\n\n# PNG (raster, for compatibility)\n# Note: Generate SVG first, then save as PNG\nd.save('circuit.png', dpi=300, transparent=True)\n\n# PDF (for print)\nwith schemdraw.Drawing(\n    file='circuit.pdf',\n    font='Arial',\n    fontsize=11,\n    color='black',\n    transparent=True\n) as d:\n    d.config(unit=3)\n    # ... components ...\n"})}),"\n",(0,r.jsx)(n.h2,{id:"black-foreground-with-transparent-background-default",children:"Black Foreground with Transparent Background (Default)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"All diagrams should use black foreground with transparent background by default:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"with schemdraw.Drawing(\n    font='Arial',         # Sans-serif font\n    fontsize=11,\n    color='black',        # Black foreground\n    transparent=True      # Transparent background\n) as d:\n    d.config(unit=3)\n    # ... components ...\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why transparent background with black foreground:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Allows HTML container background to show through (e.g., custom background colors)"}),"\n",(0,r.jsx)(n.li,{children:"Black lines and text are visible on light container backgrounds"}),"\n",(0,r.jsx)(n.li,{children:"Works seamlessly with web-based documentation (Docusaurus, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"Professional appearance with clean contrast"}),"\n",(0,r.jsx)(n.li,{children:"Integrates with any light-themed documentation"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Solid background (if specifically requested):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Dark theme with solid black background and white foreground\nwith schemdraw.Drawing(\n    font='Arial',\n    fontsize=11,\n    color='white',\n    bgcolor='black'\n) as d:\n    # ... components ...\n\n# Light theme with solid white background and black foreground\nwith schemdraw.Drawing(\n    font='Arial',\n    fontsize=11,\n    color='black',\n    bgcolor='white'\n) as d:\n    # ... components ...\n"})}),"\n",(0,r.jsx)(n.h2,{id:"example-simple-voltage-divider",children:"Example: Simple Voltage Divider"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import schemdraw\nfrom schemdraw import elements as elm\n\n# Black foreground with transparent background (default)\nwith schemdraw.Drawing(\n    file='voltage_divider.svg',\n    font='Arial',\n    fontsize=11,\n    color='black',\n    transparent=True\n) as d:\n    elm.SourceV().label('12V')\n    elm.Line().right(d.unit/2)\n    elm.Resistor().down().label('R1\\n10k\u03a9')\n    elm.Dot()\n    d.push()\n    elm.Line().right(d.unit/2).dot(open=True).label('Vout\\n(6V)', 'right')\n    d.pop()\n    elm.Resistor().down().label('R2\\n10k\u03a9')\n    elm.Ground()\n"})}),"\n",(0,r.jsx)(n.h2,{id:"when-to-use-this-skill",children:"When to Use This Skill"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User requests circuit diagrams or schematics"}),"\n",(0,r.jsx)(n.li,{children:"Publication-quality output needed"}),"\n",(0,r.jsx)(n.li,{children:"Vector graphics (SVG/PDF) for documentation"}),"\n",(0,r.jsx)(n.li,{children:"Complex circuits with ICs, opamps, logic"}),"\n",(0,r.jsx)(n.li,{children:"Alternative to ASCII art diagrams"}),"\n",(0,r.jsx)(n.li,{children:"Technical papers or presentations"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"when-not-to-use",children:"When NOT to Use"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"User specifically wants ASCII art (use ascii-circuit-diagram-creator instead)"}),"\n",(0,r.jsx)(n.li,{children:"Quick sketches where quality doesn't matter"}),"\n",(0,r.jsx)(n.li,{children:"No Python environment available"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/claude/skills/schemdraw-circuit-generator/best-practices",children:"Best Practices for Schemdraw Circuits"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/claude/skills/schemdraw-circuit-generator/components",children:"Schemdraw Component Library Reference"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/claude/skills/schemdraw-circuit-generator/examples",children:"Complete Circuit Examples"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/claude/skills/schemdraw-circuit-generator/patterns",children:"Common Circuit Patterns"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/claude/skills/schemdraw-circuit-generator/troubleshooting",children:"Troubleshooting Guide"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);