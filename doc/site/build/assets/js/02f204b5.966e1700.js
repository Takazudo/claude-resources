"use strict";(self.webpackChunkclaude_code_doc_site=self.webpackChunkclaude_code_doc_site||[]).push([[4186],{3351(e,n,t){t.d(n,{R:()=>l,x:()=>a});var r=t(2128);const c={},s=r.createContext(c);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),r.createElement(s.Provider,{value:n},e.children)}},5232(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>r,toc:()=>i});const r=JSON.parse('{"id":"claude/commands/git-prune-branches-both","title":"/git-prune-branches-both","description":"Clean up both local and remote git branches that have been merged.","source":"@site/docs/claude/commands/git-prune-branches-both.mdx","sourceDirName":"claude/commands","slug":"/claude/commands/git-prune-branches-both","permalink":"/docs/claude/commands/git-prune-branches-both","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"/git-prune-branches-both","description":"Clean up both local and remote git branches that have been merged."},"sidebar":"claudeSidebar","previous":{"title":"/dump-fullpath","permalink":"/docs/claude/commands/dump-fullpath"},"next":{"title":"/git-prune-branches-local","permalink":"/docs/claude/commands/git-prune-branches-local"}}');var c=t(7900),s=t(3351);const l={title:"/git-prune-branches-both",description:"Clean up both local and remote git branches that have been merged."},a="/git-prune-branches-both",o={},i=[{value:"Step 1: Prune Local Branches",id:"step-1-prune-local-branches",level:2},{value:"Step 2: Prune Remote Branches",id:"step-2-prune-remote-branches",level:2},{value:"Step 3: Confirm and Execute",id:"step-3-confirm-and-execute",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"git-prune-branches-both",children:"/git-prune-branches-both"})}),"\n",(0,c.jsx)(n.h1,{id:"git-prune-branches-both-local-and-remote",children:"Git Prune Branches (Both Local and Remote)"}),"\n",(0,c.jsx)(n.p,{children:"Check and prune both local and remote branches that have been merged:"}),"\n",(0,c.jsx)(n.h2,{id:"step-1-prune-local-branches",children:"Step 1: Prune Local Branches"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["Get the list of all local branches using ",(0,c.jsx)(n.code,{children:"git branch"})]}),"\n",(0,c.jsxs)(n.li,{children:["For each branch, check if it has been merged using ",(0,c.jsx)(n.code,{children:"git branch --merged"})]}),"\n",(0,c.jsx)(n.li,{children:"Exclude protected branches (main, master, develop, etc.)"}),"\n",(0,c.jsx)(n.li,{children:"Create a list of local branches that are safe to delete"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"step-2-prune-remote-branches",children:"Step 2: Prune Remote Branches"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["Fetch the latest remote information using ",(0,c.jsx)(n.code,{children:"git fetch --prune"})]}),"\n",(0,c.jsxs)(n.li,{children:["Get the list of all remote branches using ",(0,c.jsx)(n.code,{children:"git branch -r"})]}),"\n",(0,c.jsx)(n.li,{children:"For each remote branch, check if it has been merged into the remote main branch"}),"\n",(0,c.jsx)(n.li,{children:"Exclude protected branches"}),"\n",(0,c.jsx)(n.li,{children:"Create a list of remote branches that are safe to delete"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"step-3-confirm-and-execute",children:"Step 3: Confirm and Execute"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["Present both lists to the user clearly:","\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Local branches to be deleted"}),"\n",(0,c.jsx)(n.li,{children:"Remote branches to be deleted"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.li,{children:'Ask for confirmation: "The above local and remote branches will be deleted. Proceed? (yes/no)"'}),"\n",(0,c.jsxs)(n.li,{children:['If user confirms with "yes" or similar affirmative response:',"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Delete local branches using ",(0,c.jsx)(n.code,{children:"git branch -d &lt;branch-name&gt;"})]}),"\n",(0,c.jsxs)(n.li,{children:["Delete remote branches using ",(0,c.jsx)(n.code,{children:"git push origin --delete &lt;branch-name&gt;"})]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.li,{children:"Report the results for both operations"}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Important:"})," Never delete:"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"The currently checked out branch (for local)"}),"\n",(0,c.jsx)(n.li,{children:"Protected branches: main, master, develop, development, staging, production"}),"\n",(0,c.jsx)(n.li,{children:"Branches that are not fully merged (unless explicitly requested)"}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Note:"})," Remote deletion affects the repository for all users and cannot be easily undone. Ensure user confirmation before proceeding."]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}}}]);