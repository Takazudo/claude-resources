"use strict";(self.webpackChunkclaude_code_doc_site=self.webpackChunkclaude_code_doc_site||[]).push([[5338],{3351(e,n,t){t.d(n,{R:()=>o,x:()=>i});var r=t(2128);const s={},l=r.createContext(s);function o(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(l.Provider,{value:n},e.children)}},9283(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"claude/skills/electron-develop/webview","title":"Webview & BrowserWindow Patterns","description":"Skill: electron-develop","source":"@site/docs/claude/skills/electron-develop/webview.mdx","sourceDirName":"claude/skills/electron-develop","slug":"/claude/skills/electron-develop/webview","permalink":"/docs/claude/skills/electron-develop/webview","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"Webview & BrowserWindow Patterns"},"sidebar":"claudeSidebar","previous":{"title":"Packaging & Build","permalink":"/docs/claude/skills/electron-develop/packaging"},"next":{"title":"format-md","permalink":"/docs/claude/skills/format-md"}}');var s=t(7900),l=t(3351);const o={title:"Webview & BrowserWindow Patterns"},i="Webview & BrowserWindow Patterns",c={},a=[{value:"Basic BrowserWindow",id:"basic-browserwindow",level:2},{value:"Webview Tag (for tabs)",id:"webview-tag-for-tabs",level:2},{value:"IPC Communication",id:"ipc-communication",level:2},{value:"Main \u2194 Renderer",id:"main--renderer",level:3},{value:"Without contextIsolation (for electron-tabs)",id:"without-contextisolation-for-electron-tabs",level:3},{value:"Menu Shortcuts",id:"menu-shortcuts",level:2},{value:"Global Shortcuts",id:"global-shortcuts",level:2},{value:"Security Settings Reference",id:"security-settings-reference",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"webview--browserwindow-patterns",children:"Webview & BrowserWindow Patterns"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Skill:"})," ",(0,s.jsx)(n.a,{href:"/docs/claude/skills/electron-develop",children:"electron-develop"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h1,{id:"webview--browserwindow-patterns-1",children:"Webview & BrowserWindow Patterns"}),"\n",(0,s.jsx)(n.h2,{id:"basic-browserwindow",children:"Basic BrowserWindow"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'const { BrowserWindow } = require("electron");\n\nfunction createMainWindow() {\n  const win = new BrowserWindow({\n    width: 1200,\n    height: 800,\n    title: "My App",\n    show: false, // Show after ready\n    webPreferences: {\n      nodeIntegration: false,\n      contextIsolation: true,\n      preload: path.join(__dirname, "preload.js"),\n    },\n  });\n\n  win.loadURL("http://localhost:3000");\n  // Or: win.loadFile("index.html");\n\n  win.once("ready-to-show", () => win.show());\n\n  return win;\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"webview-tag-for-tabs",children:"Webview Tag (for tabs)"}),"\n",(0,s.jsx)(n.p,{children:"HTML with webview:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<webview src="http://localhost:3000" style="width:100%; height:100%;"></webview>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Required BrowserWindow settings:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"webPreferences: {\n  webviewTag: true, // Enable <webview> tag\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"ipc-communication",children:"IPC Communication"}),"\n",(0,s.jsx)(n.h3,{id:"main--renderer",children:"Main \u2194 Renderer"}),"\n",(0,s.jsx)(n.p,{children:"Main process:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'const { ipcMain, BrowserWindow } = require("electron");\n\n// Receive from renderer\nipcMain.on("channel-name", (event, arg) => {\n  console.log(arg);\n});\n\n// Send to renderer\nconst win = BrowserWindow.getFocusedWindow();\nwin.webContents.send("channel-name", data);\n'})}),"\n",(0,s.jsx)(n.p,{children:"Preload (contextIsolation: true):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'const { contextBridge, ipcRenderer } = require("electron");\n\ncontextBridge.exposeInMainWorld("electronAPI", {\n  send: (channel, data) => ipcRenderer.send(channel, data),\n  on: (channel, callback) => ipcRenderer.on(channel, (e, ...args) => callback(...args)),\n});\n'})}),"\n",(0,s.jsx)(n.p,{children:"Renderer:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'window.electronAPI.send("channel-name", data);\nwindow.electronAPI.on("channel-name", (data) => console.log(data));\n'})}),"\n",(0,s.jsx)(n.h3,{id:"without-contextisolation-for-electron-tabs",children:"Without contextIsolation (for electron-tabs)"}),"\n",(0,s.jsx)(n.p,{children:"Renderer (nodeIntegration: true, contextIsolation: false):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'const { ipcRenderer } = require("electron");\n\nipcRenderer.send("channel-name", data);\nipcRenderer.on("channel-name", (event, data) => console.log(data));\n'})}),"\n",(0,s.jsx)(n.h2,{id:"menu-shortcuts",children:"Menu Shortcuts"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'const { Menu, app } = require("electron");\n\nconst template = [\n  {\n    label: "File",\n    submenu: [\n      {\n        label: "New Tab",\n        accelerator: "CmdOrCtrl+T",\n        click: () => sendToWindow("new-tab"),\n      },\n      {\n        label: "Close Tab",\n        accelerator: "CmdOrCtrl+W",\n        click: () => sendToWindow("close-tab"),\n      },\n    ],\n  },\n  {\n    label: "Edit",\n    submenu: [\n      { role: "undo" },\n      { role: "redo" },\n      { type: "separator" },\n      { role: "cut" },\n      { role: "copy" },\n      { role: "paste" },\n    ],\n  },\n];\n\n// macOS app menu\nif (process.platform === "darwin") {\n  template.unshift({\n    label: app.name,\n    submenu: [\n      { role: "about" },\n      { type: "separator" },\n      { role: "quit" },\n    ],\n  });\n}\n\nMenu.setApplicationMenu(Menu.buildFromTemplate(template));\n'})}),"\n",(0,s.jsx)(n.h2,{id:"global-shortcuts",children:"Global Shortcuts"}),"\n",(0,s.jsx)(n.p,{children:"For shortcuts that must work even when webview has focus:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'const { globalShortcut, BrowserWindow } = require("electron");\n\napp.whenReady().then(() => {\n  globalShortcut.register("CommandOrControl+Shift+I", () => {\n    const win = BrowserWindow.getFocusedWindow();\n    if (win) win.webContents.toggleDevTools();\n  });\n});\n\napp.on("will-quit", () => {\n  globalShortcut.unregisterAll();\n});\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Global shortcuts work system-wide. Use sparingly."]}),"\n",(0,s.jsx)(n.h2,{id:"security-settings-reference",children:"Security Settings Reference"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Secure"}),(0,s.jsx)(n.th,{children:"Use Case"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nodeIntegration: false"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"Default, most apps"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"contextIsolation: true"})}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"Default, most apps"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nodeIntegration: true"})}),(0,s.jsx)(n.td,{children:"\u26a0\ufe0f"}),(0,s.jsx)(n.td,{children:"electron-tabs, trusted content only"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"contextIsolation: false"})}),(0,s.jsx)(n.td,{children:"\u26a0\ufe0f"}),(0,s.jsx)(n.td,{children:"electron-tabs, trusted content only"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"webviewTag: true"})}),(0,s.jsx)(n.td,{children:"\u26a0\ufe0f"}),(0,s.jsx)(n.td,{children:"Tab functionality"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"For localhost-only apps loading trusted content, less secure settings are acceptable."})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);