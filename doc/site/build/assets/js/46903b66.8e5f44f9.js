"use strict";(self.webpackChunkclaude_code_doc_site=self.webpackChunkclaude_code_doc_site||[]).push([[6909],{159(e,s,t){t.r(s),t.d(s,{assets:()=>o,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"claude/skills/docusaurus-sidebar-filter-develop","title":"docusaurus-sidebar-filter-develop","description":"Add a real-time filter/search input to a Docusaurus documentation site\'s sidebar. Swizzles the DocSidebar component to add a sticky text input that filters sidebar items (categories and docs) as the u...","source":"@site/docs/claude/skills/docusaurus-sidebar-filter-develop.mdx","sourceDirName":"claude/skills","slug":"/claude/skills/docusaurus-sidebar-filter-develop","permalink":"/docs/claude/skills/docusaurus-sidebar-filter-develop","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"docusaurus-sidebar-filter-develop","description":"Add a real-time filter/search input to a Docusaurus documentation site\'s sidebar. Swizzles the DocSidebar component to add a sticky text input that filters sidebar items (categories and docs) as the u..."},"sidebar":"claudeSidebar","previous":{"title":"docusaurus-h1-metainfo-develop","permalink":"/docs/claude/skills/docusaurus-h1-metainfo-develop"},"next":{"title":"docusaurus-zudo-styles-develop","permalink":"/docs/claude/skills/docusaurus-zudo-styles-develop"}}');var n=t(7900),r=t(3351);const l={title:"docusaurus-sidebar-filter-develop",description:"Add a real-time filter/search input to a Docusaurus documentation site's sidebar. Swizzles the DocSidebar component to add a sticky text input that filters sidebar items (categories and docs) as the u..."},d="docusaurus-sidebar-filter-develop",o={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Implementation Steps",id:"implementation-steps",level:2},{value:"Step 1: Detect Docusaurus Root",id:"step-1-detect-docusaurus-root",level:3},{value:"Step 2: Swizzle DocSidebar (Wrap Mode)",id:"step-2-swizzle-docsidebar-wrap-mode",level:3},{value:"Step 3: Add Sidebar CSS to custom.css",id:"step-3-add-sidebar-css-to-customcss",level:3},{value:"Step 4: Verify",id:"step-4-verify",level:3},{value:"How the Filter Works",id:"how-the-filter-works",level:2},{value:"Assets",id:"assets",level:2}];function c(e){const s={admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"docusaurus-sidebar-filter-develop",children:"docusaurus-sidebar-filter-develop"})}),"\n",(0,n.jsx)(s.admonition,{title:"Bundled Resources",type:"info",children:(0,n.jsx)(s.p,{children:"This skill includes: assets"})}),"\n",(0,n.jsx)(s.h1,{id:"docusaurus-sidebar-filter",children:"Docusaurus Sidebar Filter"}),"\n",(0,n.jsx)(s.p,{children:"Add a real-time client-side filter input to a Docusaurus site's sidebar navigation. The filter searches both document labels and category names, with recursive child matching."}),"\n",(0,n.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Docusaurus v3.x project"}),"\n",(0,n.jsxs)(s.li,{children:["TypeScript support (",(0,n.jsx)(s.code,{children:".tsx"})," files)"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"implementation-steps",children:"Implementation Steps"}),"\n",(0,n.jsx)(s.h3,{id:"step-1-detect-docusaurus-root",children:"Step 1: Detect Docusaurus Root"}),"\n",(0,n.jsxs)(s.p,{children:["Find the Docusaurus project root by locating ",(0,n.jsx)(s.code,{children:"docusaurus.config.ts"})," (or ",(0,n.jsx)(s.code,{children:".js"}),"). All paths below are relative to this root."]}),"\n",(0,n.jsx)(s.h3,{id:"step-2-swizzle-docsidebar-wrap-mode",children:"Step 2: Swizzle DocSidebar (Wrap Mode)"}),"\n",(0,n.jsx)(s.p,{children:"Create the swizzled DocSidebar component. Use the asset file as the template:"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Source"}),": Read ",(0,n.jsx)(s.code,{children:"assets/DocSidebar-index.tsx"})," from this skill directory.",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.strong,{children:"Target"}),": ",(0,n.jsx)(s.code,{children:"src/theme/DocSidebar/index.tsx"})]}),"\n",(0,n.jsx)(s.p,{children:"Copy the asset file content to the target path. Then customize:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Placeholder text"})," - Change ",(0,n.jsx)(s.code,{children:'"Filter docs..."'})," to match the project's language:"]}),"\n"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Japanese: ",(0,n.jsx)(s.code,{children:'"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u691c\u7d22..."'})]}),"\n",(0,n.jsxs)(s.li,{children:["English: ",(0,n.jsx)(s.code,{children:'"Filter docs..."'})," (default)"]}),"\n",(0,n.jsx)(s.li,{children:"Or whatever the user prefers"}),"\n"]}),"\n",(0,n.jsxs)(s.ol,{start:"2",children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Search input height"})," - ",(0,n.jsx)(s.code,{children:"SEARCH_INPUT_HEIGHT"})," is ",(0,n.jsx)(s.code,{children:"'57px'"})," (padding 12px",(0,n.jsx)(s.em,{children:"2 + input padding 8px"}),"2 + font ~14px + border 1px). Adjust only if changing padding/font values."]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"step-3-add-sidebar-css-to-customcss",children:"Step 3: Add Sidebar CSS to custom.css"}),"\n",(0,n.jsxs)(s.p,{children:["Append these styles to the project's ",(0,n.jsx)(s.code,{children:"src/css/custom.css"}),". These improve sidebar readability, especially for Japanese text, and add border separators between items:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-css",children:"/* === Sidebar filter enhancement styles === */\n\n/* Improve line-height for sidebar items (especially useful for CJK text) */\n.menu__list * {\n  line-height: 1.8;\n}\n\n/* Border-separated menu items for visual clarity */\nul.menu__list > li {\n  padding: 0.2em 0 0;\n  border-top: 1px solid var(--ifm-color-emphasis-200);\n}\n\nul.menu__list > li:first-child {\n  border-top: none;\n}\n\n/* Restore border for nested first children */\nul.menu__list ul.menu__list > li:first-child {\n  border-top: 1px solid var(--ifm-color-emphasis-200);\n}\n\n.menu__list-item {\n  margin: 0;\n}\n\n.menu__link {\n  padding: 0.55rem 0.4rem 0.35rem;\n  border-radius: 0.25rem;\n  line-height: 1.6;\n  font-size: 0.95rem;\n}\n\n/* Caret arrow adjustments */\n.menu__link--sublist-caret {\n  padding-right: 1.5rem;\n  position: relative;\n}\n\n.menu__link--sublist-caret::after {\n  position: absolute !important;\n  right: 0.7rem !important;\n  top: 50% !important;\n  transform: translateY(-50%) rotate(90deg) !important;\n  margin: 0 !important;\n}\n\n.menu__list-item--collapsed .menu__link--sublist-caret::after {\n  transform: translateY(-50%) rotate(90deg) !important;\n}\n\nli:not(.menu__list-item--collapsed) .menu__link--sublist-caret::after {\n  transform: translateY(-50%) rotate(180deg) !important;\n}\n\n/* Spacing between main category items */\n.theme-doc-sidebar-item-category {\n  margin-top: 1rem;\n}\n\n.theme-doc-sidebar-item-category:first-child {\n  margin-top: 0;\n}\n"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Important"}),": Check if any of these selectors already exist in ",(0,n.jsx)(s.code,{children:"custom.css"})," before appending. Merge with existing rules if needed."]}),"\n",(0,n.jsx)(s.h3,{id:"step-4-verify",children:"Step 4: Verify"}),"\n",(0,n.jsx)(s.p,{children:"After implementing, verify:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"src/theme/DocSidebar/index.tsx"})," exists with the filter component"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"src/css/custom.css"})," has the sidebar styles"]}),"\n",(0,n.jsx)(s.li,{children:"Run the dev server to confirm:"}),"\n"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Filter input appears at the top of the sidebar"}),"\n",(0,n.jsx)(s.li,{children:"Typing filters both doc labels and category names"}),"\n",(0,n.jsx)(s.li,{children:"Clearing the input restores the full sidebar"}),"\n",(0,n.jsx)(s.li,{children:"Filter input stays sticky while scrolling the sidebar"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"how-the-filter-works",children:"How the Filter Works"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Sticky input"}),": Fixed at top of sidebar, below navbar, using ",(0,n.jsx)(s.code,{children:"position: sticky"})," and ",(0,n.jsx)(s.code,{children:"top: var(--ifm-navbar-height)"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Recursive filtering"}),": Searches all levels of the sidebar tree"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Category matching"}),": A category is shown if its name matches OR any child matches"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Performance"}),": Uses ",(0,n.jsx)(s.code,{children:"useMemo"})," to avoid re-filtering on every render"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"CSS scroll fix"}),": Injects a ",(0,n.jsx)(s.code,{children:"&lt;style&gt;"})," tag to adjust sidebar scroll height accounting for the search input height"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Infima-compatible"}),": Uses Docusaurus CSS variables (",(0,n.jsx)(s.code,{children:"--ifm-*"}),") for colors and spacing"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"assets",children:"Assets"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"assets/DocSidebar-index.tsx"})," - Template for the swizzled DocSidebar component"]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},3351(e,s,t){t.d(s,{R:()=>l,x:()=>d});var i=t(2128);const n={},r=i.createContext(n);function l(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);