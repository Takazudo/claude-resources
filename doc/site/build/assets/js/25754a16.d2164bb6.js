"use strict";(self.webpackChunkclaude_code_doc_site=self.webpackChunkclaude_code_doc_site||[]).push([[2052],{3351(e,t,s){s.d(t,{R:()=>a,x:()=>i});var n=s(2128);const d={},r=n.createContext(d);function a(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),n.createElement(r.Provider,{value:t},e.children)}},9835(e,t,s){s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"claude/skills/docusaurus-h1-metainfo-develop","title":"docusaurus-h1-metainfo-develop","description":"Add metadata display (creation date, last updated, author) under h1 titles in Docusaurus doc pages. Use when: (1) Adding doc metadata to a Docusaurus site, (2) User says \'show dates on docs\', \'add met...","source":"@site/docs/claude/skills/docusaurus-h1-metainfo-develop.mdx","sourceDirName":"claude/skills","slug":"/claude/skills/docusaurus-h1-metainfo-develop","permalink":"/docs/claude/skills/docusaurus-h1-metainfo-develop","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"docusaurus-h1-metainfo-develop","description":"Add metadata display (creation date, last updated, author) under h1 titles in Docusaurus doc pages. Use when: (1) Adding doc metadata to a Docusaurus site, (2) User says \'show dates on docs\', \'add met..."},"sidebar":"claudeSidebar","previous":{"title":"docusaurus-feature-skillify","permalink":"/docs/claude/skills/docusaurus-feature-skillify"},"next":{"title":"docusaurus-sidebar-filter-develop","permalink":"/docs/claude/skills/docusaurus-sidebar-filter-develop"}}');var d=s(7900),r=s(3351);const a={title:"docusaurus-h1-metainfo-develop",description:"Add metadata display (creation date, last updated, author) under h1 titles in Docusaurus doc pages. Use when: (1) Adding doc metadata to a Docusaurus site, (2) User says 'show dates on docs', 'add met..."},i="docusaurus-h1-metainfo-develop",o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Implementation Steps",id:"implementation-steps",level:2},{value:"Step 1: Detect Docusaurus Root",id:"step-1-detect-docusaurus-root",level:3},{value:"Step 2: Create the Remark Plugin",id:"step-2-create-the-remark-plugin",level:3},{value:"Step 3: Swizzle DocItem/Content Component",id:"step-3-swizzle-docitemcontent-component",level:3},{value:"Step 4: Add CSS Styles",id:"step-4-add-css-styles",level:3},{value:"Step 5: Configure Docusaurus",id:"step-5-configure-docusaurus",level:3},{value:"Step 6: Verify",id:"step-6-verify",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"Assets",id:"assets",level:2}];function l(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.header,{children:(0,d.jsx)(t.h1,{id:"docusaurus-h1-metainfo-develop",children:"docusaurus-h1-metainfo-develop"})}),"\n",(0,d.jsx)(t.admonition,{title:"Bundled Resources",type:"info",children:(0,d.jsx)(t.p,{children:"This skill includes: assets"})}),"\n",(0,d.jsx)(t.h1,{id:"docusaurus-h1-meta-info",children:"Docusaurus H1 Meta Info"}),"\n",(0,d.jsx)(t.p,{children:"Display creation date, last updated date, and author name under h1 titles on Docusaurus documentation pages. Data is sourced from git history and rendered via SSR (works without JavaScript)."}),"\n",(0,d.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsx)(t.li,{children:"Docusaurus v3.x project with TypeScript"}),"\n",(0,d.jsx)(t.li,{children:"Git repository (dates are extracted from git history)"}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"clsx"})," package (usually already installed with Docusaurus)"]}),"\n"]}),"\n",(0,d.jsx)(t.h2,{id:"implementation-steps",children:"Implementation Steps"}),"\n",(0,d.jsx)(t.h3,{id:"step-1-detect-docusaurus-root",children:"Step 1: Detect Docusaurus Root"}),"\n",(0,d.jsxs)(t.p,{children:["Find the Docusaurus project root by locating ",(0,d.jsx)(t.code,{children:"docusaurus.config.ts"})," (or ",(0,d.jsx)(t.code,{children:".js"}),"). Store this path as ",(0,d.jsx)(t.code,{children:"DOCUSAURUS_ROOT"}),"."]}),"\n",(0,d.jsx)(t.h3,{id:"step-2-create-the-remark-plugin",children:"Step 2: Create the Remark Plugin"}),"\n",(0,d.jsxs)(t.p,{children:["Read ",(0,d.jsx)(t.code,{children:"assets/remark-creation-date.js"})," from this skill directory and copy it to:"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{children:"{DOCUSAURUS_ROOT}/plugins/remark-creation-date.js\n"})}),"\n",(0,d.jsxs)(t.p,{children:["This plugin extracts the git creation date (first commit) for each markdown file and injects it into frontmatter as ",(0,d.jsx)(t.code,{children:"custom_creation_date"})," (formatted as ",(0,d.jsx)(t.code,{children:"YYYY/MM/DD"}),") and ",(0,d.jsx)(t.code,{children:"custom_creation_timestamp"}),"."]}),"\n",(0,d.jsx)(t.h3,{id:"step-3-swizzle-docitemcontent-component",children:"Step 3: Swizzle DocItem/Content Component"}),"\n",(0,d.jsxs)(t.p,{children:["Read ",(0,d.jsx)(t.code,{children:"assets/DocItem-Content-index.tsx"})," from this skill directory and copy it to:"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{children:"{DOCUSAURUS_ROOT}/src/theme/DocItem/Content/index.tsx\n"})}),"\n",(0,d.jsx)(t.p,{children:"Create the directory structure if it doesn't exist. This swizzled component:"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:["Renders the ",(0,d.jsx)(t.code,{children:"DocMetadata"})," component between the h1 title and the page content"]}),"\n",(0,d.jsx)(t.li,{children:'Shows "Created:", "Updated:", and "Author:" fields'}),"\n",(0,d.jsxs)(t.li,{children:["Uses semantic HTML (",(0,d.jsx)(t.code,{children:"<ul>"}),", ",(0,d.jsx)(t.code,{children:"<time>"}),", ",(0,d.jsx)(t.code,{children:"&lt;address&gt;"}),")"]}),"\n",(0,d.jsx)(t.li,{children:"Falls back gracefully when data is unavailable"}),"\n"]}),"\n",(0,d.jsx)(t.h3,{id:"step-4-add-css-styles",children:"Step 4: Add CSS Styles"}),"\n",(0,d.jsxs)(t.p,{children:["Append the following CSS to ",(0,d.jsx)(t.code,{children:"{DOCUSAURUS_ROOT}/src/css/custom.css"}),":"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-css",children:"/* ===== Document Meta Info (under h1) ===== */\n\n/* Meta container */\n.theme-doc-meta {\n  border-top: 1px solid var(--ifm-color-emphasis-200);\n  padding: 0.5em 0 0;\n  list-style: none;\n  margin: -0.5em 0 1em;\n}\n\n/* Enable flexbox for proper ordering: header -> meta -> content */\n.markdown {\n  display: flex;\n  flex-direction: column;\n}\n\n/* Synthetic title header at top (when present) */\n.markdown > header {\n  order: -2;\n}\n\n/* Metadata comes after header but before content */\n.markdown > .theme-doc-meta {\n  order: -1;\n}\n\n/* Everything else (MDX content) appears after metadata */\n.markdown > div,\n.markdown > * {\n  order: 0;\n}\n\n[data-theme='dark'] .theme-doc-meta {\n  border-top-color: var(--ifm-color-emphasis-300);\n}\n\n.theme-doc-meta {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  column-gap: 0.5em;\n  row-gap: 0.25em;\n}\n\n.theme-doc-meta-created,\n.theme-doc-meta-updated,\n.theme-doc-meta-author {\n  display: flex;\n  align-items: center;\n}\n\n/* Pipe separator between items */\n.theme-doc-meta-created::after,\n.theme-doc-meta-updated::after {\n  content: '|';\n  margin: 0 0 0 0.5em;\n}\n\n.theme-doc-meta-author::after {\n  content: none;\n}\n\n.theme-doc-meta-created span,\n.theme-doc-meta-updated span,\n.theme-doc-meta-author span {\n  margin-right: 0.25em;\n}\n\n.theme-doc-meta-author address {\n  font-style: normal;\n}\n"})}),"\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.strong,{children:"Important:"})," If the target project's ",(0,d.jsx)(t.code,{children:"custom.css"})," already has ",(0,d.jsx)(t.code,{children:".markdown { ... }"})," rules, merge the ",(0,d.jsx)(t.code,{children:"display: flex; flex-direction: column;"})," properties into the existing rule rather than creating a duplicate."]}),"\n",(0,d.jsx)(t.h3,{id:"step-5-configure-docusaurus",children:"Step 5: Configure Docusaurus"}),"\n",(0,d.jsxs)(t.p,{children:["Edit ",(0,d.jsx)(t.code,{children:"{DOCUSAURUS_ROOT}/docusaurus.config.ts"})," (or ",(0,d.jsx)(t.code,{children:".js"}),") to enable git metadata and register the remark plugin."]}),"\n",(0,d.jsxs)(t.p,{children:["In the ",(0,d.jsx)(t.code,{children:"docs"})," section of the ",(0,d.jsx)(t.code,{children:"classic"})," preset options, add/ensure:"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-typescript",children:"docs: {\n  // ... existing config ...\n  showLastUpdateTime: true,\n  showLastUpdateAuthor: true,\n  beforeDefaultRemarkPlugins: [\n    [require('./plugins/remark-creation-date.js'), {}],\n  ],\n},\n"})}),"\n",(0,d.jsxs)(t.p,{children:["If ",(0,d.jsx)(t.code,{children:"beforeDefaultRemarkPlugins"})," already exists, append the new plugin to the existing array."]}),"\n",(0,d.jsx)(t.h3,{id:"step-6-verify",children:"Step 6: Verify"}),"\n",(0,d.jsx)(t.p,{children:"After implementing, verify:"}),"\n",(0,d.jsxs)(t.ol,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"{DOCUSAURUS_ROOT}/plugins/remark-creation-date.js"})," exists"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"{DOCUSAURUS_ROOT}/src/theme/DocItem/Content/index.tsx"})," exists"]}),"\n",(0,d.jsxs)(t.li,{children:["CSS rules for ",(0,d.jsx)(t.code,{children:".theme-doc-meta"})," are in ",(0,d.jsx)(t.code,{children:"custom.css"})]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"docusaurus.config"})," has ",(0,d.jsx)(t.code,{children:"showLastUpdateTime: true"}),", ",(0,d.jsx)(t.code,{children:"showLastUpdateAuthor: true"}),", and the remark plugin registered"]}),"\n"]}),"\n",(0,d.jsx)(t.p,{children:"Run the dev server and confirm:"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsx)(t.li,{children:"Each doc page shows metadata under the h1 title"}),"\n",(0,d.jsx)(t.li,{children:'Metadata includes "Created: YYYY/MM/DD", "Updated: YYYY/MM/DD", and "Author: <name>"'}),"\n",(0,d.jsxs)(t.li,{children:["Items are separated by pipe (",(0,d.jsx)(t.code,{children:"|"}),") characters"]}),"\n",(0,d.jsx)(t.li,{children:"A thin border-top line separates the meta from the title"}),"\n",(0,d.jsx)(t.li,{children:"Pages with no git history show gracefully (no broken UI)"}),"\n"]}),"\n",(0,d.jsx)(t.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,d.jsx)(t.p,{children:"The feature has two data sources:"}),"\n",(0,d.jsxs)(t.ol,{children:["\n",(0,d.jsxs)(t.li,{children:["\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.strong,{children:"Creation date"}),": A custom remark plugin (",(0,d.jsx)(t.code,{children:"remark-creation-date.js"}),") runs ",(0,d.jsx)(t.code,{children:"git log --all --follow --format=%at --reverse -n 1"})," to find the earliest commit for each file. The date is injected into frontmatter as ",(0,d.jsx)(t.code,{children:"custom_creation_date"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(t.li,{children:["\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.strong,{children:"Last updated date & author"}),": Docusaurus's built-in git integration (",(0,d.jsx)(t.code,{children:"showLastUpdateTime"})," + ",(0,d.jsx)(t.code,{children:"showLastUpdateAuthor"}),") provides ",(0,d.jsx)(t.code,{children:"metadata.lastUpdatedAt"})," and ",(0,d.jsx)(t.code,{children:"metadata.lastUpdatedBy"}),"."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(t.p,{children:["The swizzled ",(0,d.jsx)(t.code,{children:"DocItem/Content"})," component reads both sources, formats dates as ",(0,d.jsx)(t.code,{children:"YYYY/MM/DD"}),", and renders semantic HTML (",(0,d.jsx)(t.code,{children:"<ul>"})," with ",(0,d.jsx)(t.code,{children:"<time>"})," and ",(0,d.jsx)(t.code,{children:"&lt;address&gt;"})," elements). CSS flexbox ordering ensures the metadata always appears between the h1 title and the page content, regardless of DOM order. The entire feature is SSR-compatible."]}),"\n",(0,d.jsx)(t.h2,{id:"assets",children:"Assets"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"assets/DocItem-Content-index.tsx"})," - Swizzled DocItem/Content component with DocMetadata renderer. Target: ",(0,d.jsx)(t.code,{children:"{DOCUSAURUS_ROOT}/src/theme/DocItem/Content/index.tsx"})]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"assets/remark-creation-date.js"})," - Remark plugin that extracts git creation date. Target: ",(0,d.jsx)(t.code,{children:"{DOCUSAURUS_ROOT}/plugins/remark-creation-date.js"})]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,d.jsx)(t,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}}}]);