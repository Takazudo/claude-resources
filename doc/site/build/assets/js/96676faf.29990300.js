"use strict";(self.webpackChunkclaude_code_doc_site=self.webpackChunkclaude_code_doc_site||[]).push([[6274],{1344(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"claude/skills/dependabot-resolve","title":"dependabot-resolve","description":"Comprehensive dependency update workflow for resolving Dependabot alerts and PRs. Use when: (1) User wants to update dependencies, (2) User mentions \'dependabot\', \'security vulnerabilities\', or \'depen...","source":"@site/docs/claude/skills/dependabot-resolve.mdx","sourceDirName":"claude/skills","slug":"/claude/skills/dependabot-resolve","permalink":"/docs/claude/skills/dependabot-resolve","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"dependabot-resolve","description":"Comprehensive dependency update workflow for resolving Dependabot alerts and PRs. Use when: (1) User wants to update dependencies, (2) User mentions \'dependabot\', \'security vulnerabilities\', or \'depen..."},"sidebar":"claudeSidebar","previous":{"title":"Custom Command Frontmatter Reference","permalink":"/docs/claude/skills/custom-command-creator/frontmatter"},"next":{"title":"docusaurus-amplify-fix","permalink":"/docs/claude/skills/docusaurus-amplify-fix"}}');var r=s(7900),t=s(3351);const l={title:"dependabot-resolve",description:"Comprehensive dependency update workflow for resolving Dependabot alerts and PRs. Use when: (1) User wants to update dependencies, (2) User mentions 'dependabot', 'security vulnerabilities', or 'depen..."},d="dependabot-resolve",c={},a=[{value:"Step 1: Analyze Dependabot Issues",id:"step-1-analyze-dependabot-issues",level:2},{value:"Step 2: Run Security Audit",id:"step-2-run-security-audit",level:2},{value:"Step 3: Create Update Branch",id:"step-3-create-update-branch",level:2},{value:"Step 4: Apply Updates",id:"step-4-apply-updates",level:2},{value:"Step 4.5: Handle Related Updates (Package + Infrastructure Sync)",id:"step-45-handle-related-updates-package--infrastructure-sync",level:2},{value:"Playwright Package + Docker Image",id:"playwright-package--docker-image",level:3},{value:"Other Common Pairs to Watch",id:"other-common-pairs-to-watch",level:3},{value:"Step 5: Quality Checks",id:"step-5-quality-checks",level:2},{value:"Step 6: Review Results",id:"step-6-review-results",level:2},{value:"Step 7: Push and Create PR",id:"step-7-push-and-create-pr",level:2},{value:"Important Notes",id:"important-notes",level:2},{value:"Safety Checks",id:"safety-checks",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"dependabot-resolve",children:"dependabot-resolve"})}),"\n",(0,r.jsx)(n.h1,{id:"dependabot-resolution-workflow",children:"Dependabot Resolution Workflow"}),"\n",(0,r.jsx)(n.p,{children:"Execute a comprehensive dependency update workflow:"}),"\n",(0,r.jsx)(n.h2,{id:"step-1-analyze-dependabot-issues",children:"Step 1: Analyze Dependabot Issues"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:'gh issue list --label "dependencies" --state open --json number,title,url,body'})," to list all open Dependabot issues"]}),"\n",(0,r.jsxs)(n.li,{children:["For each issue, carefully analyze:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"What dependency is being updated"}),"\n",(0,r.jsx)(n.li,{children:"What version change is proposed (patch/minor/major)"}),"\n",(0,r.jsx)(n.li,{children:"Any breaking changes mentioned"}),"\n",(0,r.jsx)(n.li,{children:"Security vulnerabilities fixed"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Determine which updates should be applied based on:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Security fixes (high priority)"}),"\n",(0,r.jsx)(n.li,{children:"Patch updates (generally safe)"}),"\n",(0,r.jsx)(n.li,{children:"Minor updates (review carefully)"}),"\n",(0,r.jsx)(n.li,{children:"Major updates (review very carefully for breaking changes)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-2-run-security-audit",children:"Step 2: Run Security Audit"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"pnpm audit"})," to check for security vulnerabilities"]}),"\n",(0,r.jsx)(n.li,{children:"Identify any critical or high-severity issues"}),"\n",(0,r.jsx)(n.li,{children:"Note any recommended updates from the audit"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-3-create-update-branch",children:"Step 3: Create Update Branch"}),"\n",(0,r.jsx)(n.p,{children:"If there are updates to apply:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Get current date in MMDD format (e.g., "1220" for December 20th)'}),"\n",(0,r.jsx)(n.li,{children:"Get the current branch name to use as base"}),"\n",(0,r.jsxs)(n.li,{children:["Create new branch: ",(0,r.jsx)(n.code,{children:"deps-update-MMDD"})," from the current branch"]}),"\n",(0,r.jsx)(n.li,{children:"Switch to the new branch"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-4-apply-updates",children:"Step 4: Apply Updates"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["For each dependency to update:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"pnpm update &lt;package-name&gt;"})," or ",(0,r.jsx)(n.code,{children:"pnpm add &lt;package-name&gt;@&lt;version&gt;"})," as appropriate"]}),"\n",(0,r.jsx)(n.li,{children:"If it's a major version update, check for breaking changes in the changelog first"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["After all updates, run ",(0,r.jsx)(n.code,{children:"pnpm install"})," to ensure lockfile is updated"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-45-handle-related-updates-package--infrastructure-sync",children:"Step 4.5: Handle Related Updates (Package + Infrastructure Sync)"}),"\n",(0,r.jsx)(n.p,{children:"Some packages require coordinated updates across multiple files. Check for these patterns:"}),"\n",(0,r.jsx)(n.h3,{id:"playwright-package--docker-image",children:"Playwright Package + Docker Image"}),"\n",(0,r.jsxs)(n.p,{children:["When updating ",(0,r.jsx)(n.code,{children:"@playwright/test"})," or ",(0,r.jsx)(n.code,{children:"playwright"})," in package.json:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Check current versions"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"package.json"}),": Look for ",(0,r.jsx)(n.code,{children:"@playwright/test"})," and ",(0,r.jsx)(n.code,{children:"playwright"})," versions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".github/workflows/*.yml"}),": Search for ",(0,r.jsx)(n.code,{children:"mcr.microsoft.com/playwright:v"})," Docker image tags"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Update Docker image tag"})," to match the npm package version:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# In workflow files using Playwright Docker container\ncontainer:\n  image: mcr.microsoft.com/playwright:v<NEW_VERSION>-noble\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Verify image exists"})," at ",(0,r.jsx)(n.a,{href:"https://mcr.microsoft.com/v2/playwright/tags/list",children:"https://mcr.microsoft.com/v2/playwright/tags/list"})," or check Microsoft's Playwright Docker documentation"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),": If updating ",(0,r.jsx)(n.code,{children:"@playwright/test"})," from ",(0,r.jsx)(n.code,{children:"1.57.0"})," to ",(0,r.jsx)(n.code,{children:"1.58.0"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Update package.json: ",(0,r.jsx)(n.code,{children:'"@playwright/test": "^1.58.0"'})]}),"\n",(0,r.jsxs)(n.li,{children:["Update workflow: ",(0,r.jsx)(n.code,{children:"image: mcr.microsoft.com/playwright:v1.58.0-noble"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"other-common-pairs-to-watch",children:"Other Common Pairs to Watch"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TypeScript + @types packages"}),": May need coordinated updates"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ESLint + plugins"}),": Plugin versions often need to match ESLint major version"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Next.js + related packages"}),": ",(0,r.jsx)(n.code,{children:"next"}),", ",(0,r.jsx)(n.code,{children:"eslint-config-next"}),", etc."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-5-quality-checks",children:"Step 5: Quality Checks"}),"\n",(0,r.jsx)(n.p,{children:"Run all quality checks in sequence:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type checking"}),": ",(0,r.jsx)(n.code,{children:"pnpm typecheck"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Linting"}),": ",(0,r.jsx)(n.code,{children:"pnpm lint"})," (or ",(0,r.jsx)(n.code,{children:"pnpm lint:fix"})," if auto-fixable)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Formatting"}),": ",(0,r.jsx)(n.code,{children:"pnpm format"})," (or ",(0,r.jsx)(n.code,{children:"pnpm format:fix"})," if needed)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Unit tests"}),": ",(0,r.jsx)(n.code,{children:"pnpm test:unit"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Build"}),": ",(0,r.jsx)(n.code,{children:"pnpm build"})," (to ensure the project builds successfully)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"E2E tests"}),": ",(0,r.jsx)(n.code,{children:"pnpm test:e2e:critical"})," or ",(0,r.jsx)(n.code,{children:"pnpm test:e2e:full-prod"})," for comprehensive testing"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-6-review-results",children:"Step 6: Review Results"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If all checks pass:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Proceed to Step 7"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["If any checks fail:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Investigate the failure"}),"\n",(0,r.jsx)(n.li,{children:"Determine if it's a breaking change or test needs updating"}),"\n",(0,r.jsx)(n.li,{children:"Fix issues or revert problematic updates"}),"\n",(0,r.jsx)(n.li,{children:"Re-run quality checks"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-7-push-and-create-pr",children:"Step 7: Push and Create PR"}),"\n",(0,r.jsx)(n.p,{children:"Once all checks pass:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Stage all changes: ",(0,r.jsx)(n.code,{children:"git add ."})]}),"\n",(0,r.jsxs)(n.li,{children:["Commit with descriptive message: ",(0,r.jsx)(n.code,{children:'git commit -m "chore: Update dependencies (MMDD)"'})]}),"\n",(0,r.jsxs)(n.li,{children:["Push to remote: ",(0,r.jsx)(n.code,{children:"git push -u origin deps-update-MMDD"})]}),"\n",(0,r.jsxs)(n.li,{children:["Create PR using ",(0,r.jsx)(n.code,{children:"gh pr create"})," with:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Title: "chore: Update dependencies (MMDD)"'}),"\n",(0,r.jsxs)(n.li,{children:["Body including:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"List of updated packages and versions"}),"\n",(0,r.jsx)(n.li,{children:"Summary of security fixes (if any)"}),"\n",(0,r.jsxs)(n.li,{children:["Links to Dependabot issues being resolved using list format:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"- \u95a2\u9023Issue\n    - https://github.com/<owner>/<repo>/issues/<issue-1>\n    - https://github.com/<owner>/<repo>/issues/<issue-2>\n"})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Note that all quality checks passed"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use full URLs"})," (not #<number>) so GitHub auto-expands them to show issue titles"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"important-notes",children:"Important Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Never auto-merge - always create PR for manual review"}),"\n",(0,r.jsx)(n.li,{children:"For major version updates, mention breaking changes in PR description"}),"\n",(0,r.jsx)(n.li,{children:"If updating critical dependencies (Gatsby, React, etc.), note that extra testing may be needed"}),"\n",(0,r.jsx)(n.li,{children:"Close related Dependabot issues after PR is merged"}),"\n",(0,r.jsx)(n.li,{children:"Follow the project's dependency management guidelines from CLAUDE.md"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"safety-checks",children:"Safety Checks"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Never use ",(0,r.jsx)(n.code,{children:"--force"})," flags"]}),"\n",(0,r.jsx)(n.li,{children:"Always run full test suite before pushing"}),"\n",(0,r.jsx)(n.li,{children:"Check for deprecation warnings during build"}),"\n",(0,r.jsxs)(n.li,{children:["Verify the build output works correctly (",(0,r.jsx)(n.code,{children:"pnpm serve"})," and manual testing if needed)"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},3351(e,n,s){s.d(n,{R:()=>l,x:()=>d});var i=s(2128);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);