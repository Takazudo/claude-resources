"use strict";(self.webpackChunkclaude_code_doc_site=self.webpackChunkclaude_code_doc_site||[]).push([[1440],{3351(e,n,s){s.d(n,{R:()=>r,x:()=>l});var i=s(2128);const a={},t=i.createContext(a);function r(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(t.Provider,{value:n},e.children)}},6430(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"claude/skills/package-json-develop","title":"package-json-develop","description":"Organize and maintain package.json scripts sections for readability and maintainability. Use when: (1) Reorganizing a large package.json scripts section, (2) Adding comment separators to group scripts...","source":"@site/docs/claude/skills/package-json-develop.mdx","sourceDirName":"claude/skills","slug":"/claude/skills/package-json-develop","permalink":"/docs/claude/skills/package-json-develop","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{"title":"package-json-develop","description":"Organize and maintain package.json scripts sections for readability and maintainability. Use when: (1) Reorganizing a large package.json scripts section, (2) Adding comment separators to group scripts..."},"sidebar":"claudeSidebar","previous":{"title":"npm Package Development Tooling and Project Setup (2025-2026)","permalink":"/docs/claude/skills/npm-package-develop/tooling"},"next":{"title":"package.json Organization Patterns","permalink":"/docs/claude/skills/package-json-develop/patterns"}}');var a=s(7900),t=s(3351);const r={title:"package-json-develop",description:"Organize and maintain package.json scripts sections for readability and maintainability. Use when: (1) Reorganizing a large package.json scripts section, (2) Adding comment separators to group scripts..."},l="package-json-develop",c={},o=[{value:"Technique 1: Comment Separator Keys",id:"technique-1-comment-separator-keys",level:2},{value:"Technique 2: External Shell Scripts for Multi-Process Commands",id:"technique-2-external-shell-scripts-for-multi-process-commands",level:2},{value:"Multi-Environment Pattern",id:"multi-environment-pattern",level:2},{value:"Detailed Patterns",id:"detailed-patterns",level:2},{value:"References",id:"references",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"package-json-develop",children:"package-json-develop"})}),"\n",(0,a.jsx)(n.admonition,{title:"Bundled Resources",type:"info",children:(0,a.jsxs)(n.p,{children:["This skill includes: ",(0,a.jsx)(n.a,{href:"#references",children:"references"}),", scripts"]})}),"\n",(0,a.jsx)(n.h1,{id:"packagejson-scripts-organization",children:"package.json Scripts Organization"}),"\n",(0,a.jsxs)(n.p,{children:["Two techniques for keeping large ",(0,a.jsx)(n.code,{children:"scripts"})," sections readable and maintainable."]}),"\n",(0,a.jsx)(n.h2,{id:"technique-1-comment-separator-keys",children:"Technique 1: Comment Separator Keys"}),"\n",(0,a.jsx)(n.p,{children:"Add visual section dividers using unused JSON keys:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "scripts": {\n    "// \u2500\u2500 Core \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500": "",\n    "dev": "next dev",\n    "build": "next build",\n    "// \u2500\u2500 Testing \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500": "",\n    "test": "jest",\n    "test:e2e": "playwright test"\n  }\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Format: ",(0,a.jsx)(n.code,{children:'"// \u2500\u2500 Section Name \u2500\u2500\u2500\u2500\u2500\u2500..."'})," with ",(0,a.jsx)(n.code,{children:"\u2500"})," padding to ~50 chars, value ",(0,a.jsx)(n.code,{children:'""'}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"technique-2-external-shell-scripts-for-multi-process-commands",children:"Technique 2: External Shell Scripts for Multi-Process Commands"}),"\n",(0,a.jsxs)(n.p,{children:["When a command starts 2+ background processes, extract to ",(0,a.jsx)(n.code,{children:"scripts/*.sh"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Template available at ",(0,a.jsx)(n.code,{children:"scripts/multi-process-dev.sh.template"}),". Key pattern:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'#!/bin/bash\nset -e\ncleanup() {\n  kill $PID_1 $PID_2 2>/dev/null\n  wait $PID_1 $PID_2 2>/dev/null\n}\ntrap cleanup EXIT INT TERM\n\nif [ "$MODE" = "local" ]; then\n  backend-server &\n  PID_1=$!\n  sleep 3\nfi\n\npnpm dev &\nPID_2=$!\nwait\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Call from package.json: ",(0,a.jsx)(n.code,{children:'"dev:full": "MODE=local ./scripts/dev-full.sh"'})]}),"\n",(0,a.jsxs)(n.p,{children:["Make executable: ",(0,a.jsx)(n.code,{children:"chmod +x scripts/*.sh"})]}),"\n",(0,a.jsx)(n.h2,{id:"multi-environment-pattern",children:"Multi-Environment Pattern"}),"\n",(0,a.jsx)(n.p,{children:"For apps with local/preview/production API targets:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "// \u2500\u2500 Dev with API (3 environments) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500": "",\n  "dev:full": "API_MODE=local ./scripts/dev-full.sh",\n  "dev:full:preview": "API_MODE=preview pnpm dev",\n  "dev:full:prod": "API_MODE=production pnpm dev"\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"detailed-patterns",children:"Detailed Patterns"}),"\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"references/patterns.md",children:"references/patterns.md"})," for:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Full list of suggested section names"}),"\n",(0,a.jsx)(n.li,{children:"Namespace prefixing for monorepo sub-packages"}),"\n",(0,a.jsxs)(n.li,{children:["Internal/private script conventions (",(0,a.jsx)(n.code,{children:"_"})," prefix)"]}),"\n",(0,a.jsx)(n.li,{children:"Complete multi-process shell script template with explanations"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/docs/claude/skills/package-json-develop/patterns",children:"package.json Organization Patterns"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);