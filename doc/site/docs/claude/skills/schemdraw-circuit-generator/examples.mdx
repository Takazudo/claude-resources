---
title: "Complete Circuit Examples"
---

# Complete Circuit Examples

**Skill:** [schemdraw-circuit-generator](../schemdraw-circuit-generator.mdx)

---

# Complete Circuit Examples

Real-world circuit examples with full code.

## Example 1: 555 Timer LED Blinker

Classic astable multivibrator using 555 timer IC.

```python
import schemdraw
from schemdraw import elements as elm

with schemdraw.Drawing(file='555_blinker.svg') as d:
    d.config(fontsize=12)

    # 555 Timer IC
    T = elm.Ic555().label('555')

    # Ground connection
    BOT = elm.Ground().at(T.GND)
    elm.Dot()

    # Timing resistors (Ra and Rb)
    elm.Resistor().endpoints(T.DIS, T.THR).label('Rb\n10kΩ').idot()
    elm.Resistor().up().at(T.DIS).label('Ra\n10kΩ')
    elm.Vdd().label('+5V')

    # Timing capacitor
    elm.Line().endpoints(T.THR, T.TRG)
    elm.Capacitor().at(T.TRG).toy(BOT.start).label('C\n10µF')
    elm.Line().tox(BOT.start)

    # Control voltage bypass capacitor
    elm.Capacitor().at(T.CTL).toy(BOT.start).label('0.01µF', 'bottom').dot()

    # Junction dots
    elm.Dot().at(T.DIS)
    elm.Dot().at(T.THR)
    elm.Dot().at(T.TRG)

    # Reset and Vcc tied to power
    elm.Line().endpoints(T.RST, T.Vcc).dot()
    elm.Line().up(d.unit/4)
    elm.Vdd().label('+5V')

    # Output: LED with current limiting resistor
    elm.Resistor().right().at(T.OUT).label('330Ω')
    elm.LED().flip().toy(BOT.start)
    elm.Line().tox(BOT.start)
```

**Frequency**: f ≈ 1.44 / ((Ra + 2Rb) × C) ≈ 4.8 Hz (blinks ~2.4 times/second)

**Use cases**: LED flasher, pulse generator, timing circuits

## Example 2: Inverting Opamp with Detailed Power

Inverting amplifier with explicit power supply connections.

```python
import schemdraw
from schemdraw import elements as elm

with schemdraw.Drawing(file='inverting_amp_power.svg') as d:
    d.config(fontsize=12)

    # Main opamp
    op = elm.Opamp(leads=True).label('TL081')

    # Power supplies
    elm.Line().up(d.unit/2).at(op.vd)
    elm.Vdd().label('+15V')

    elm.Line().down(d.unit/2).at(op.vs)
    elm.Vss().label('−15V')

    # Input resistor
    Rin = elm.Resistor().at(op.in1).left().label('$R_{in}$\n10kΩ', loc='bot')
    elm.Dot(open=True).label('$v_{in}$', 'left')

    # Feedback resistor
    elm.Line().up(d.unit/2).at(op.in1)
    elm.Resistor().tox(op.out).label('$R_f$\n100kΩ')
    elm.Line().toy(op.out).dot()

    # Non-inverting input to ground
    elm.Line().down(d.unit/4).at(op.in2)
    elm.Ground(lead=False)

    # Output
    elm.Line().right(d.unit/4).at(op.out).dot(open=True).label('$v_{out}$', 'right')
```

**Specifications**:
- Gain: Av = -Rf/Rin = -10 (20 dB)
- Input impedance: ~10kΩ
- Bandwidth: Limited by opamp (TL081: ~3 MHz GBW)

## Example 3: Differential Amplifier

Subtracts two input signals.

```python
import schemdraw
from schemdraw import elements as elm

with schemdraw.Drawing(file='diff_amp.svg') as d:
    d.config(fontsize=12)

    op = elm.Opamp(leads=True)

    # Non-inverting input network
    elm.Resistor().at(op.in2).left().label('$R_1$\n10kΩ').dot(open=True).label('$V_1$', 'left')
    elm.Resistor().at(op.in2).down().label('$R_2$\n10kΩ')
    elm.Ground()

    # Inverting input network
    elm.Resistor().at(op.in1).left().label('$R_3$\n10kΩ').dot(open=True).label('$V_2$', 'left')

    # Feedback
    elm.Line().up(d.unit/2).at(op.in1)
    elm.Resistor().tox(op.out).label('$R_4$\n10kΩ')
    elm.Line().toy(op.out).dot()

    # Output
    elm.Line().right(d.unit/4).at(op.out).dot(open=True).label('$V_{out} = V_1 - V_2$', 'right')
```

**Output**: Vout = (R4/R3) × (V1 - V2) when R1=R2 and R3=R4

**Use cases**: Sensor signal conditioning, noise rejection, instrumentation amplifier front-end

## Example 4: Common Emitter Amplifier

Single-stage BJT amplifier with biasing network.

```python
import schemdraw
from schemdraw import elements as elm

with schemdraw.Drawing(file='ce_amplifier.svg') as d:
    d.config(fontsize=11)

    # Transistor
    Q1 = elm.BjtNpn(circle=True).label('Q1\n2N3904')

    # Collector resistor
    elm.Resistor().at(Q1.collector).up().label('$R_C$\n2.2kΩ')
    top = elm.Line().up(d.unit/4).label('+12V', 'top')

    # Voltage divider for base bias
    elm.Resistor().at(Q1.base).up().toy(top.end).label('$R_1$\n47kΩ')
    elm.Dot()

    elm.Resistor().at(Q1.base).down().label('$R_2$\n10kΩ')
    bot = elm.Ground()

    # Emitter resistor with bypass cap
    elm.Resistor().at(Q1.emitter).down().label('$R_E$\n1kΩ').dot()
    d.push()
    elm.Ground()
    d.pop()

    # Bypass capacitor
    elm.Capacitor().right().label('$C_E$\n47µF')
    elm.Ground()

    # Input coupling capacitor
    elm.Capacitor().at(Q1.base).left().label('$C_{in}$\n10µF')
    elm.Dot(open=True).label('$v_{in}$', 'left')

    # Output coupling capacitor
    elm.Capacitor().at(Q1.collector).right().label('$C_{out}$\n10µF')
    elm.Dot(open=True).label('$v_{out}$', 'right')
```

**Characteristics**:
- Voltage gain: Av ≈ -RC/RE ≈ -2.2 (bypassed)
- Input impedance: ~R1||R2||βRE ≈ 6kΩ
- Phase shift: 180° (inverting)

## Example 5: H-Bridge Motor Driver

Bidirectional DC motor control with 4 MOSFETs.

```python
import schemdraw
from schemdraw import elements as elm

with schemdraw.Drawing(file='h_bridge.svg') as d:
    d.config(unit=2.5, fontsize=11)

    # Top left MOSFET
    Q1 = elm.NFet().label('Q1')
    elm.Line().up(d.unit/3).at(Q1.drain)
    vcc = elm.Line().right(d.unit*2).label('+12V', 'top')

    # Top right MOSFET
    Q2 = elm.NFet().at((d.unit*2, 0)).label('Q2')
    elm.Line().up(d.unit/3).at(Q2.drain).toy(vcc.end)

    # Motor in the middle
    motor_top = elm.Line().at(Q1.source).down(d.unit/4)
    elm.Line().right(d.unit/2).dot().label('A', 'top')
    elm.Motor()
    elm.Dot().label('B', 'top')
    elm.Line().right(d.unit/2)
    motor_bot = elm.Line().toy(Q2.source)

    # Bottom left MOSFET
    elm.NFet().at(Q1.source).down(d.unit).anchor('drain').flip().label('Q3')
    Q3_src = elm.Line().down(d.unit/4)
    gnd = elm.Line().right(d.unit*2)
    elm.Ground().at((d.unit, Q3_src.end[1]))

    # Bottom right MOSFET
    elm.NFet().at(Q2.source).down(d.unit).anchor('drain').flip().label('Q4')
    elm.Line().down(d.unit/4).toy(gnd.end)

    # Gate control signals
    elm.Line().left(d.unit/2).at(Q1.gate).dot(open=True).label('IN1', 'left')
    elm.Line().left(d.unit/2).at(Q2.gate).dot(open=True).label('IN2', 'left')
    elm.Line().left(d.unit/2).at((0, Q3_src.end[1] + d.unit/2)).dot(open=True).label('IN3', 'left')
    elm.Line().left(d.unit/2).at((d.unit*2, Q3_src.end[1] + d.unit/2)).dot(open=True).label('IN4', 'left')
```

**Control logic**:
- Forward: Q1 + Q4 ON, Q2 + Q3 OFF
- Reverse: Q2 + Q3 ON, Q1 + Q4 OFF
- Brake: Q3 + Q4 ON (or Q1 + Q2 ON)
- Coast: All OFF

## Example 6: RC Phase Shift Oscillator

Generates sine wave using opamp and RC network.

```python
import schemdraw
from schemdraw import elements as elm

with schemdraw.Drawing(file='rc_oscillator.svg') as d:
    d.config(fontsize=11)

    # Opamp inverting amplifier
    op = elm.Opamp(leads=True)

    # Feedback resistor
    elm.Line().up(d.unit/2).at(op.in1)
    Rf = elm.Resistor().tox(op.out).label('$R_f$\n100kΩ')
    elm.Line().toy(op.out).dot()

    # Non-inverting to ground
    elm.Ground().at(op.in2)

    # RC phase shift network (3 stages)
    R1 = elm.Resistor().at(op.out).right().label('R\n10kΩ')
    C1 = elm.Capacitor().down().label('C\n10nF')
    elm.Ground()

    R2 = elm.Resistor().at(R1.end).right().label('R\n10kΩ')
    C2 = elm.Capacitor().down().label('C\n10nF')
    elm.Ground()

    R3 = elm.Resistor().at(R2.end).right().label('R\n10kΩ')
    C3 = elm.Capacitor().down().label('C\n10nF')
    elm.Ground()

    # Feedback to input
    elm.Resistor().at(R3.end).left().tox(op.in1).label('$R_{in}$\n10kΩ')
    elm.Line().toy(op.in1)

    # Output tap
    elm.Dot().at(op.out)
    elm.Line().down(d.unit/4).dot(open=True).label('Out', 'bottom')
```

**Oscillation frequency**: f = 1/(2πRC√6) ≈ 650 Hz

**Condition**: Rf/Rin ≥ 29 for sustained oscillation

## Tips for Natural Language Processing

When user describes a circuit in natural language, parse it systematically:

### 1. Identify Components

- "resistor" → `elm.Resistor()`
- "10k resistor" → `elm.Resistor().label('10kΩ')`
- "100 microfarad capacitor" → `elm.Capacitor().label('100µF')`
- "NPN transistor" → `elm.BjtNpn()`
- "opamp" or "operational amplifier" → `elm.Opamp()`

### 2. Parse Connections

- "in series with" → place elements sequentially
- "in parallel with" → use `d.push()`/`d.pop()` branching
- "connected to ground" → element `.down()` then `elm.Ground()`
- "between X and Y" → use `.at()` and `.to()` methods

### 3. Interpret Topology

Common circuit keywords:
- "voltage divider" → two resistors with tap point (see patterns.md)
- "RC filter" → resistor and capacitor to ground
- "inverting amplifier" → opamp with feedback (see patterns.md)
- "LED driver" → transistor switch pattern (see patterns.md)
- "H-bridge" → 4 transistors in bridge configuration

### 4. Extract Values

Handle various formats:
- "10 kiloohms" → "10kΩ"
- "100uF" → "100µF"
- "0.1 microfarads" → "0.1µF"
- "1 millihenry" → "1mH"
- Scientific notation: "1e-6F" → "1µF"

### 5. Determine Layout

Default strategies:
- Left-to-right signal flow
- Power on top, ground on bottom
- ICs in center, passives around them
- Group related components together

### Example Parsing

**User**: "Draw an inverting amplifier with 10k input resistor and 100k feedback resistor"

**Parse**:
1. Identify: opamp, two resistors
2. Topology: inverting amplifier (pattern #3)
3. Values: Rin=10kΩ, Rf=100kΩ
4. Generate code using inverting amp pattern from patterns.md

**User**: "Show me an LED connected to 5V through a 330 ohm resistor"

**Parse**:
1. Identify: LED, resistor, power supply
2. Connection: series (power → resistor → LED → ground)
3. Values: 5V, 330Ω
4. Generate simple series circuit

## Using Context7 for More Examples

For circuits not shown here:

```
mcp__context7__get-library-docs(
  context7CompatibleLibraryID: "/cdelker/schemdraw",
  mode: "code",
  topic: "specific circuit type + example"
)
```

Examples:
- `topic: "741 opamp example circuit"`
- `topic: "rectifier circuit full wave"`
- `topic: "LC tank oscillator"`
- `topic: "Wheatstone bridge example"`
